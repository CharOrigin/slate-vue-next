var Fa=Object.defineProperty;var Ea=(e,t,r)=>t in e?Fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>Ea(e,typeof t!="symbol"?t+"":t,r);function _n(e){return(t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1&&Object.prototype.toString.call(e)==="[object Object]";var t}function ie(e){var t,r;return _n(e)!==!1&&typeof(t=e.constructor)=="function"&&_n(r=t.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1}var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot,jn,Sr={exports:{}};Ot=Sr,jn=Sr.exports,function(e){var t=jn,r=Ot&&Ot.exports==t&&Ot,n=typeof gr=="object"&&gr;n.global!==n&&n.window!==n||(e=n);var o=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,a=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,s=function(c){for(var d="",f=(c=c.replace(o,function(u,g,y){return s(y)+g}).replace(a,"$2$1")).length;f--;)d+=c.charAt(f);return d},i={version:"0.2.0",reverse:s};if(t&&!t.nodeType)if(r)r.exports=i;else for(var l in i)i.hasOwnProperty(l)&&(t[l]=i[l]);else e.esrever=i}(gr);var Vo=Sr.exports;function Ae(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function He(e){return!!e&&!!e[we]}function Xe(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);return!r||r===Object.prototype}(e)||Array.isArray(e)||!!e[Mn]||!!e.constructor[Mn]||Qr(e)||en(e))}function vt(e,t,r){r===void 0&&(r=!1),at(e)===0?(r?Object.keys:an)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function at(e){var t=e[we];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Qr(e)?2:en(e)?3:0}function Rr(e,t){return at(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $o(e,t,r){var n=at(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Qr(e){return Ca&&e instanceof Map}function en(e){return Da&&e instanceof Set}function Ke(e){return e.o||e.t}function tn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Na(e);delete t[we];for(var r=an(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function rn(e,t){nn(e)||He(e)||!Xe(e)||(at(e)>1&&(e.set=e.add=e.clear=e.delete=ka),Object.freeze(e),t&&vt(e,function(r,n){return rn(n,!0)},!0))}function ka(){Ae(2)}function nn(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Re(e){var t=Sa[e];return t||Ae(18,e),t}function Cn(){return mt}function vr(e,t){t&&(Re("Patches"),e.u=[],e.s=[],e.v=t)}function zt(e){Br(e),e.p.forEach(_a),e.p=null}function Br(e){e===mt&&(mt=e.l)}function Dn(e){return mt={p:[],l:mt,h:e,m:!0,_:0}}function _a(e){var t=e[we];t.i===0||t.i===1?t.j():t.g=!0}function mr(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Re("ES5").S(t,e,n),n?(r[we].P&&(zt(t),Ae(4)),Xe(e)&&(e=Wt(t,e),t.l||Lt(t,e)),t.u&&Re("Patches").M(r[we],e,t.u,t.s)):e=Wt(t,r,[]),zt(t),t.u&&t.v(t.u,t.s),e!==Jo?e:void 0}function Wt(e,t,r){if(nn(t))return t;var n=t[we];if(!n)return vt(t,function(a,s){return Nn(e,n,t,a,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Lt(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=tn(n.k):n.o;vt(n.i===3?new Set(o):o,function(a,s){return Nn(e,n,o,a,s,r)}),Lt(e,o,!1),r&&e.u&&Re("Patches").R(n,r,e.u,e.s)}return n.o}function Nn(e,t,r,n,o,a){if(He(o)){var s=Wt(e,o,a&&t&&t.i!==3&&!Rr(t.D,n)?a.concat(n):void 0);if($o(r,n,s),!He(s))return;e.m=!1}if(Xe(o)&&!nn(o)){if(!e.h.N&&e._<1)return;Wt(e,o),t&&t.A.l||Lt(e,o)}}function Lt(e,t,r){r===void 0&&(r=!1),e.h.N&&e.m&&rn(t,r)}function yr(e,t){var r=e[we];return(r?Ke(r):e)[t]}function Sn(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Tr(e){e.P||(e.P=!0,e.l&&Tr(e.l))}function wr(e){e.o||(e.o=tn(e.t))}function Mr(e,t,r){var n=Qr(t)?Re("MapSet").T(t,r):en(t)?Re("MapSet").F(t,r):e.O?function(o,a){var s=Array.isArray(o),i={i:s?1:0,A:a?a.A:Cn(),P:!1,I:!1,D:{},l:a,t:o,k:null,o:null,j:null,C:!1},l=i,c=St;s&&(l=[i],c=Rt);var d=Proxy.revocable(l,c),f=d.revoke,u=d.proxy;return i.k=u,i.j=f,u}(t,r):Re("ES5").J(t,r);return(r?r.A:Cn()).p.push(n),n}function ja(e){return He(e)||Ae(22,e),function t(r){if(!Xe(r))return r;var n,o=r[we],a=at(r);if(o){if(!o.P&&(o.i<4||!Re("ES5").K(o)))return o.t;o.I=!0,n=Rn(r,a),o.I=!1}else n=Rn(r,a);return vt(n,function(s,i){o&&function(l,c){return at(l)===2?l.get(c):l[c]}(o.t,s)===i||$o(n,s,t(i))}),a===3?new Set(n):n}(e)}function Rn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return tn(e)}var Bn,mt,on=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ca=typeof Map<"u",Da=typeof Set<"u",Tn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Jo=on?Symbol.for("immer-nothing"):((Bn={})["immer-nothing"]=!0,Bn),Mn=on?Symbol.for("immer-draftable"):"__$immer_draftable",we=on?Symbol.for("immer-state"):"__$immer_state",an=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Na=Object.getOwnPropertyDescriptors||function(e){var t={};return an(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Sa={},St={get:function(e,t){if(t===we)return e;var r,n,o,a=Ke(e);if(!Rr(a,t))return r=e,(o=Sn(a,t))?"value"in o?o.value:(n=o.get)===null||n===void 0?void 0:n.call(r.k):void 0;var s=a[t];return e.I||!Xe(s)?s:s===yr(e.t,t)?(wr(e),e.o[t]=Mr(e.A.h,s,e)):s},has:function(e,t){return t in Ke(e)},ownKeys:function(e){return Reflect.ownKeys(Ke(e))},set:function(e,t,r){var n=Sn(Ke(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=yr(Ke(e),t),a=o==null?void 0:o[we];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(s,i){return s===i?s!==0||1/s==1/i:s!=s&&i!=i}(r,o)&&(r!==void 0||Rr(e.t,t)))return!0;wr(e),Tr(e)}return e.o[t]=r,e.D[t]=!0,!0},deleteProperty:function(e,t){return yr(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,wr(e),Tr(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Ke(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Ae(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ae(12)}},Rt={};vt(St,function(e,t){Rt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Rt.deleteProperty=function(e,t){return St.deleteProperty.call(this,e[0],t)},Rt.set=function(e,t,r){return St.set.call(this,e[0],t,r,e[0])};var me=new(function(){function e(r){this.O=Tn,this.N=!1,typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(r,n,o){if(typeof r=="function"&&typeof n!="function"){var a=n;n=r;var s=this;return function(f){var u=this;f===void 0&&(f=a);for(var g=arguments.length,y=Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];return s.produce(f,function(O){var w;return(w=n).call.apply(w,[u,O].concat(y))})}}var i;if(typeof n!="function"&&Ae(6),o!==void 0&&typeof o!="function"&&Ae(7),Xe(r)){var l=Dn(this),c=Mr(this,r,void 0),d=!0;try{i=n(c),d=!1}finally{d?zt(l):Br(l)}return typeof Promise<"u"&&i instanceof Promise?i.then(function(f){return vr(l,o),mr(f,l)},function(f){throw zt(l),f}):(vr(l,o),mr(i,l))}if(!r||typeof r!="object")return(i=n(r))===Jo?void 0:(i===void 0&&(i=r),this.N&&rn(i,!0),i);Ae(21,r)},t.produceWithPatches=function(r,n){var o,a,s=this;return typeof r=="function"?function(i){for(var l=arguments.length,c=Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];return s.produceWithPatches(i,function(f){return r.apply(void 0,[f].concat(c))})}:[this.produce(r,n,function(i,l){o=i,a=l}),o,a]},t.createDraft=function(r){Xe(r)||Ae(8),He(r)&&(r=ja(r));var n=Dn(this),o=Mr(this,r,void 0);return o[we].C=!0,Br(n),o},t.finishDraft=function(r,n){var o=(r&&r[we]).A;return vr(o,n),mr(void 0,o)},t.setAutoFreeze=function(r){this.N=r},t.setUseProxies=function(r){r&&!Tn&&Ae(20),this.O=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}var s=Re("Patches").$;return He(r)?s(r,n):this.produce(r,function(i){return s(i,n.slice(o+1))})},e}()),Yt=me.produce;me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me);var qn=me.createDraft.bind(me),In=me.finishDraft.bind(me);function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vt=new WeakMap,br=new WeakMap,Or=new WeakMap,zn=new WeakMap,Wn=new WeakMap,Ln=new WeakMap;function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ra=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return v.levels(t);case"insert_node":var{node:r,path:n}=e,o=v.levels(n),a=S.isText(r)?[]:Array.from(_.nodes(r),w=>{var[,F]=w;return n.concat(F)});return[...o,...a];case"merge_node":var{path:s}=e;return[...v.ancestors(s),v.previous(s)];case"move_node":var{path:i,newPath:l}=e;if(v.equals(i,l))return[];var c=[],d=[];for(var f of v.ancestors(i)){var u=v.transform(f,e);c.push(u)}for(var g of v.ancestors(l)){var y=v.transform(g,e);d.push(y)}return[...c,...d];case"remove_node":var{path:b}=e;return[...v.ancestors(b)];case"split_node":var{path:O}=e;return[...v.levels(O),v.next(O)];default:return[]}};function Le(e,t){if(e==null)return{};var r,n,o=function(s,i){if(s==null)return{};var l,c,d={},f=Object.keys(s);for(c=0;c<f.length;c++)l=f[c],i.indexOf(l)>=0||(d[l]=s[l]);return d}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ba=/\s/,Ta=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ma=/['\u2018\u2019]/,qr=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(qa(n)){var o=Ia(n,e,t);if(r==="SURR"||r==="BMP")break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(n!==8205)if(Wa(n)){if(r&&r!=="ZWJ"&&r!=="VAR")break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!za(n)){if(r==="MOD"){t+=1;break}break}if(r&&r!=="ZWJ")break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},Ko=(e,t)=>{if(Ba.test(e))return!1;if(Ma.test(e)){var r=t.charAt(0),n=qr(r);r=t.slice(0,n);var o=t.slice(n);if(Ko(r,o))return!0}return!Ta.test(e)},qa=e=>55296<=e&&e<=57343,Ia=(e,t,r)=>{if(e===55356){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},za=e=>e<=65039&&e>=65024,Wa=e=>e===10084||e===9794||e===9792||e===9760||e===9877||e===9992||e===9711,K={isAncestor:e=>ie(e)&&_.isNodeList(e.children),isElement:e=>ie(e)&&_.isNodeList(e.children)&&!p.isEditor(e),isElementList:e=>Array.isArray(e)&&e.every(t=>K.isElement(t)),isElementProps:e=>e.children!==void 0,matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}};function $n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$n(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var p={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(o){var s=p.path(e,o),i=n==="lowest";for(var[l,c]of p.levels(e,{at:s,voids:r,match:a,reverse:i}))if(!S.isText(l)&&!v.equals(s,c))return[l,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={anchor:p.point(e,t,{edge:"end"}),focus:p.end(e,[])},{distance:a=1}=n,s=0;for(var i of p.positions(e,Qe(Qe({},n),{},{at:o}))){if(s>a)break;s!==0&&(r=i),s++}return r},before(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={anchor:p.start(e,[]),focus:p.point(e,t,{edge:"start"})},{distance:a=1}=n,s=0;for(var i of p.positions(e,Qe(Qe({},n),{},{at:o,reverse:!0}))){if(s>a)break;s!==0&&(r=i),s++}return r},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[p.start(e,t),p.end(e,t)],end:(e,t)=>p.point(e,t,{edge:"end"}),first(e,t){var r=p.path(e,t,{edge:"start"});return p.node(e,r)},fragment(e,t){var r=p.range(e,t);return _.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(r=>p.isBlock(e,r)),hasInlines:(e,t)=>t.children.some(r=>S.isText(r)||p.isInline(e,r)),hasTexts:(e,t)=>t.children.every(r=>S.isText(r)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>K.isElement(t)&&!e.isInline(t),isEditor:e=>ie(e)&&typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||ie(e.marks))&&(e.selection===null||P.isRange(e.selection))&&_.isNodeList(e.children)&&pt.isOperationList(e.operations),isEnd(e,t,r){var n=p.end(e,r);return W.equals(t,n)},isEdge:(e,t,r)=>p.isStart(e,t,r)||p.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return r.length===0||r.length===1&&S.isText(n)&&n.text===""&&!e.isVoid(t)},isInline:(e,t)=>K.isElement(t)&&e.isInline(t),isNormalizing(e){var t=Or.get(e);return t===void 0||t},isStart(e,t,r){if(t.offset!==0)return!1;var n=p.start(e,r);return W.equals(t,n)},isVoid:(e,t)=>K.isElement(t)&&e.isVoid(t),last(e,t){var r=p.path(e,t,{edge:"end"});return p.node(e,r)},leaf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=p.path(e,t,r);return[_.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),r){var s=[],i=p.path(e,r);for(var[l,c]of _.levels(e,i))if(a(l,c)&&(s.push([l,c]),!o&&p.isVoid(e,l)))break;n&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(P.isExpanded(r)){var[n]=p.nodes(e,{match:S.isText});if(n){var[o]=n;return Le(o,["text"])}return{}}var{anchor:a}=r,{path:s}=a,[i]=p.leaf(e,s);if(a.offset===0){var l=p.previous(e,{at:s,match:S.isText}),c=p.above(e,{match:g=>p.isBlock(e,g)});if(l&&c){var[d,f]=l,[,u]=c;v.isAncestor(u,f)&&(i=d)}}return Le(i,["text"])},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=p.after(e,a,{voids:n});if(s){var[,i]=p.last(e,[]),l=[s.path,i];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(v.isPath(a)){var[c]=p.parent(e,a);o=f=>c.children.includes(f)}else o=()=>!0;var[d]=p.nodes(e,{at:l,match:o,mode:r,voids:n});return d}}},node(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=p.path(e,t,r);return[_.get(e,n),n]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:s=!1}=t,{match:i}=t;if(i||(i=()=>!0),r){var l,c;if(La.isSpan(r))l=r[0],c=r[1];else{var d=p.path(e,r,{edge:"start"}),f=p.path(e,r,{edge:"end"});l=a?f:d,c=a?d:f}var u,g=_.nodes(e,{reverse:a,from:l,to:c,pass:D=>{var[j]=D;return!s&&p.isVoid(e,j)}}),y=[];for(var[b,O]of g){var w=u&&v.compare(O,u[1])===0;if(n!=="highest"||!w){if(i(b,O))if(n==="lowest"&&w)u=[b,O];else{var F=n==="lowest"?u:[b,O];F&&(o?y.push(F):yield F),u=[b,O]}else if(o&&!w&&S.isText(b))return}}n==="lowest"&&u&&(o?y.push(u):yield u),o&&(yield*y)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1}=t,n=a=>Vt.get(a)||[];if(p.isNormalizing(e)){if(r){var o=Array.from(_.nodes(e),a=>{var[,s]=a;return s});Vt.set(e,o)}n(e).length!==0&&p.withoutNormalizing(e,()=>{for(var a=42*n(e).length,s=0;n(e).length!==0;){if(s>a)throw new Error(`
            Could not completely normalize the editor after `.concat(a,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var i=n(e).pop();if(_.has(e,i)){var l=p.node(e,i);e.normalizeNode(l)}s++}})}},parent(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=p.path(e,t,r),o=v.parent(n);return p.node(e,o)},path(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:n,edge:o}=r;if(v.isPath(t)){if(o==="start"){var[,a]=_.first(e,t);t=a}else if(o==="end"){var[,s]=_.last(e,t);t=s}}return P.isRange(t)&&(t=o==="start"?P.start(t):o==="end"?P.end(t):v.common(t.anchor.path,t.focus.path)),W.isPoint(t)&&(t=t.path),n!=null&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return p.pathRefs(e).delete(o),o.current=null,a}};return p.pathRefs(e).add(o),o},pathRefs(e){var t=zn.get(e);return t||(t=new Set,zn.set(e,t)),t},point(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:n="start"}=r;if(v.isPath(t)){var o;if(n==="end"){var[,a]=_.last(e,t);o=a}else{var[,s]=_.first(e,t);o=s}var i=_.get(e,o);if(!S.isText(i))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:n==="end"?i.text.length:0}}if(P.isRange(t)){var[l,c]=P.edges(t);return n==="start"?l:c}return t},pointRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return p.pointRefs(e).delete(o),o.current=null,a}};return p.pointRefs(e).add(o),o},pointRefs(e){var t=Wn.get(e);return t||(t=new Set,Wn.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1,voids:a=!1}=t;if(r){var s=p.range(e,r),[i,l]=P.edges(s),c=o?l:i,d="",f=0,u=0,g=null,y=!1,b=()=>{g==null&&(g=n==="character"?qr(d):n==="word"?(C=>{for(var M,R=0,E=0,I=!1;M=C.charAt(E);){var V=qr(M);M=C.slice(E,E+V);var z=C.slice(E+V);if(Ko(M,z))I=!0,R+=V;else{if(I)break;R+=V}E+=V}return R})(d):n==="line"||n==="block"?d.length:1,d=d.slice(g)),u=o?u-g:u+g,g=(f-=g)>=0?null:0-f};for(var[O,w]of p.nodes(e,{at:r,reverse:o,voids:a})){if(K.isElement(O)){if(!a&&e.isVoid(O)){yield p.start(e,w);continue}if(e.isInline(O))continue;if(p.hasInlines(e,O)){var F=v.isAncestor(w,l.path)?l:p.end(e,w),D=v.isAncestor(w,i.path)?i:p.start(e,w),j=p.string(e,{anchor:D,focus:F},{voids:a});d=o?Vo.reverse(j):j,y=!0}}if(S.isText(O)){var q=v.equals(w,c.path);for(f=O.text.length,u=o?f:0,q&&(f=o?c.offset:f-c.offset,u=c.offset),(q||y||n==="offset")&&(yield{path:w,offset:u});d!==""&&(b(),f>=0);)yield{path:w,offset:u};y=!1}}}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=p.before(e,a,{voids:n});if(s){var[,i]=p.first(e,[]),l=[s.path,i];if(v.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(v.isPath(a)){var[c]=p.parent(e,a);o=f=>c.children.includes(f)}else o=()=>!0;var[d]=p.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return d}}},range:(e,t,r)=>P.isRange(t)&&!r?t:{anchor:p.start(e,t),focus:p.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return p.rangeRefs(e).delete(o),o.current=null,a}};return p.rangeRefs(e).add(o),o},rangeRefs(e){var t=Ln.get(e);return t||(t=new Set,Ln.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>p.point(e,t,{edge:"start"}),string(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,o=p.range(e,t),[a,s]=P.edges(o),i="";for(var[l,c]of p.nodes(e,{at:o,match:S.isText,voids:n})){var d=l.text;v.equals(c,s.path)&&(d=d.slice(0,s.offset)),v.equals(c,a.path)&&(d=d.slice(a.offset)),i+=d}return i},unhangRange(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,[o,a]=P.edges(t);if(o.offset!==0||a.offset!==0||P.isCollapsed(t))return t;var s=p.above(e,{at:a,match:u=>p.isBlock(e,u)}),i=s?s[1]:[],l={anchor:p.start(e,[]),focus:a},c=!0;for(var[d,f]of p.nodes(e,{at:l,match:S.isText,reverse:!0,voids:n}))if(c)c=!1;else if(d.text!==""||v.isBefore(f,i)){a={path:f,offset:d.text.length};break}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p.above(e,Qe(Qe({},t),{},{match:r=>p.isVoid(e,r)}))},withoutNormalizing(e,t){var r=p.isNormalizing(e);Or.set(e,!1),t(),Or.set(e,r),p.normalize(e)}},La={isSpan:e=>Array.isArray(e)&&e.length===2&&e.every(v.isPath)},_={ancestor(e,t){var r=_.get(e,t);if(S.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of v.ancestors(t,r)){var o=[_.ancestor(e,n),n];yield o}},child(e,t){if(S.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=r,o=_.ancestor(e,t),{children:a}=o,s=n?a.length-1:0;n?s>=0:s<a.length;){var i=_.child(o,s),l=t.concat(s);yield[i,l],s=n?s-1:s+1}},common(e,t,r){var n=v.common(t,r);return[_.get(e,n),n]},descendant(e,t){var r=_.get(e,t);if(p.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of _.nodes(e,t))n.length!==0&&(yield[r,n])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of _.nodes(e,t))K.isElement(r)&&(yield[r,n])},extractProps:e=>K.isAncestor(e)?Le(e,["children"]):Le(e,["text"]),first(e,t){for(var r=t.slice(),n=_.get(e,r);n&&!S.isText(n)&&n.children.length!==0;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(S.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var r=Yt({children:e.children},n=>{var[o,a]=P.edges(t),s=_.nodes(n,{reverse:!0,pass:u=>{var[,g]=u;return!P.includes(t,g)}});for(var[,i]of s){if(!P.includes(t,i)){var l=_.parent(n,i),c=i[i.length-1];l.children.splice(c,1)}if(v.equals(i,a.path)){var d=_.leaf(n,i);d.text=d.text.slice(0,a.offset)}if(v.equals(i,o.path)){var f=_.leaf(n,i);f.text=f.text.slice(o.offset)}}p.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(S.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(S.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>S.isText(e)||K.isElement(e)||p.isEditor(e),isNodeList:e=>Array.isArray(e)&&e.every(t=>_.isNode(t)),last(e,t){for(var r=t.slice(),n=_.get(e,r);n&&!S.isText(n)&&n.children.length!==0;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=_.get(e,t);if(!S.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of v.levels(t,r)){var o=_.get(e,n);yield[o,n]}},matches:(e,t)=>K.isElement(e)&&K.isElementProps(t)&&K.matches(e,t)||S.isText(e)&&S.isTextProps(t)&&S.matches(e,t),*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,s=new Set,i=[],l=e;!a||!(n?v.isBefore(i,a):v.isAfter(i,a));)if(s.has(l)||(yield[l,i]),s.has(l)||S.isText(l)||l.children.length===0||r!=null&&r([l,i])!==!1){if(i.length===0)break;if(!n){var c=v.next(i);if(_.has(e,c)){i=c,l=_.get(e,i);continue}}n&&i[i.length-1]!==0?(i=v.previous(i),l=_.get(e,i)):(i=v.parent(i),l=_.get(e,i),s.add(l))}else{s.add(l);var d=n?l.children.length-1:0;v.isAncestor(i,o)&&(d=o[i.length]),i=i.concat(d),l=_.get(e,i)}},parent(e,t){var r=v.parent(t),n=_.get(e,r);if(S.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>S.isText(e)?e.text:e.children.map(_.string).join(""),*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of _.nodes(e,t))S.isText(r)&&(yield[r,n])}};function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pt={isNodeOperation:e=>pt.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!ie(e))return!1;switch(e.type){case"insert_node":case"remove_node":return v.isPath(e.path)&&_.isNode(e.node);case"insert_text":case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&v.isPath(e.path);case"merge_node":return typeof e.position=="number"&&v.isPath(e.path)&&ie(e.properties);case"move_node":return v.isPath(e.path)&&v.isPath(e.newPath);case"set_node":return v.isPath(e.path)&&ie(e.properties)&&ie(e.newProperties);case"set_selection":return e.properties===null&&P.isRange(e.newProperties)||e.newProperties===null&&P.isRange(e.properties)||ie(e.properties)&&ie(e.newProperties);case"split_node":return v.isPath(e.path)&&typeof e.position=="number"&&ie(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every(t=>pt.isOperation(t)),isSelectionOperation:e=>pt.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>pt.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Y(Y({},e),{},{type:"remove_node"});case"insert_text":return Y(Y({},e),{},{type:"remove_text"});case"merge_node":return Y(Y({},e),{},{type:"split_node",path:v.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(v.equals(t,r))return e;if(v.isSibling(r,t))return Y(Y({},e),{},{path:t,newPath:r});var n=v.transform(r,e),o=v.transform(v.next(r),e);return Y(Y({},e),{},{path:n,newPath:o});case"remove_node":return Y(Y({},e),{},{type:"insert_node"});case"remove_text":return Y(Y({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:s}=e;return Y(Y({},e),{},{properties:s,newProperties:a});case"set_selection":var{properties:i,newProperties:l}=e;return Y(Y({},e),{},i==null?{properties:l,newProperties:null}:l==null?{properties:null,newProperties:i}:{properties:l,newProperties:i});case"split_node":return Y(Y({},e),{},{type:"merge_node",path:v.next(e.path)})}}},v={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=v.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return v.equals(n,o)&&a>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return v.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return v.equals(n,o)&&a<s},equals:(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>v.compare(e,t)===1,isAncestor:(e,t)=>e.length<t.length&&v.compare(e,t)===0,isBefore:(e,t)=>v.compare(e,t)===-1,isChild:(e,t)=>e.length===t.length+1&&v.compare(e,t)===0,isCommon:(e,t)=>e.length<=t.length&&v.compare(e,t)===0,isDescendant:(e,t)=>e.length>t.length&&v.compare(e,t)===0,isParent:(e,t)=>e.length+1===t.length&&v.compare(e,t)===0,isPath:e=>Array.isArray(e)&&(e.length===0||typeof e[0]=="number"),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&v.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!v.isAncestor(t,e)&&!v.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(e,n=>{var{affinity:o="forward"}=r;if(e.length!==0)switch(t.type){case"insert_node":var{path:a}=t;(v.equals(a,n)||v.endsBefore(a,n)||v.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var{path:s}=t;if(v.equals(s,n)||v.isAncestor(s,n))return null;v.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var{path:i,position:l}=t;v.equals(i,n)||v.endsBefore(i,n)?n[i.length-1]-=1:v.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=l);break;case"split_node":var{path:c,position:d}=t;if(v.equals(c,n)){if(o==="forward")n[n.length-1]+=1;else if(o!=="backward")return null}else v.endsBefore(c,n)?n[c.length-1]+=1:v.isAncestor(c,n)&&e[c.length]>=d&&(n[c.length-1]+=1,n[c.length]-=d);break;case"move_node":var{path:f,newPath:u}=t;if(v.equals(f,u))return;if(v.isAncestor(f,n)||v.equals(f,n)){var g=u.slice();return v.endsBefore(f,u)&&f.length<u.length&&(g[f.length-1]-=1),g.concat(n.slice(f.length))}v.isSibling(f,u)&&(v.isAncestor(u,n)||v.equals(u,n))?v.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:v.endsBefore(u,n)||v.equals(u,n)||v.isAncestor(u,n)?(v.endsBefore(f,n)&&(n[f.length-1]-=1),n[u.length-1]+=1):v.endsBefore(f,n)&&(v.equals(u,n)&&(n[u.length-1]+=1),n[f.length-1]-=1)}})}},Va={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=v.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}};function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var W={compare(e,t){var r=v.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>W.compare(e,t)===1,isBefore:(e,t)=>W.compare(e,t)===-1,equals:(e,t)=>e.offset===t.offset&&v.equals(e.path,t.path),isPoint:e=>ie(e)&&typeof e.offset=="number"&&v.isPath(e.path),transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(e,n=>{var{affinity:o="forward"}=r,{path:a,offset:s}=n;switch(t.type){case"insert_node":case"move_node":n.path=v.transform(a,t,r);break;case"insert_text":v.equals(t.path,a)&&t.offset<=s&&(n.offset+=t.text.length);break;case"merge_node":v.equals(t.path,a)&&(n.offset+=t.position),n.path=v.transform(a,t,r);break;case"remove_text":v.equals(t.path,a)&&t.offset<=s&&(n.offset-=Math.min(s-t.offset,t.text.length));break;case"remove_node":if(v.equals(t.path,a)||v.isAncestor(t.path,a))return null;n.path=v.transform(a,t,r);break;case"split_node":if(v.equals(t.path,a)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(n.offset-=t.position,n.path=v.transform(a,t,Un(Un({},r),{},{affinity:"forward"})))}else n.path=v.transform(a,t,r)}})}},$a={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=W.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}};function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}var P={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return P.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=P.edges(e);return t},equals:(e,t)=>W.equals(e.anchor,t.anchor)&&W.equals(e.focus,t.focus),includes(e,t){if(P.isRange(t)){if(P.includes(e,t.anchor)||P.includes(e,t.focus))return!0;var[r,n]=P.edges(e),[o,a]=P.edges(t);return W.isBefore(r,o)&&W.isAfter(n,a)}var[s,i]=P.edges(e),l=!1,c=!1;return W.isPoint(t)?(l=W.compare(t,s)>=0,c=W.compare(t,i)<=0):(l=v.compare(t,s.path)>=0,c=v.compare(t,i.path)<=0),l&&c},intersection(e,t){var r=Le(e,["anchor","focus"]),[n,o]=P.edges(e),[a,s]=P.edges(t),i=W.isBefore(n,a)?a:n,l=W.isBefore(o,s)?o:s;return W.isBefore(l,i)?null:function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?Zn(Object(f),!0).forEach(function(u){ke(c,u,f[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):Zn(Object(f)).forEach(function(u){Object.defineProperty(c,u,Object.getOwnPropertyDescriptor(f,u))})}return c}({anchor:i,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return W.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return W.equals(t,r)},isExpanded:e=>!P.isCollapsed(e),isForward:e=>!P.isBackward(e),isRange:e=>ie(e)&&W.isPoint(e.anchor)&&W.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=P.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="inward"}=o;return a==="inward"?P.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):a==="outward"?P.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=a,n=a),Yt(e,s=>{var i=W.transform(s.anchor,t,{affinity:r}),l=W.transform(s.focus,t,{affinity:n});if(!i||!l)return null;s.anchor=i,s.focus=l})}},Ja={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var o=P.transform(r,t,{affinity:n});e.current=o,o==null&&e.unref()}}};function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var S={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||o!=="text")&&e[o]!==t[o])return!1;for(var a in t)if((!n||a!=="text")&&e[a]!==t[a])return!1;return!0},isText:e=>ie(e)&&typeof e.text=="string",isTextList:e=>Array.isArray(e)&&e.every(t=>S.isText(t)),isTextProps:e=>e.text!==void 0,matches(e,t){for(var r in t)if(r!=="text"&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[je({},e)];for(var n of t){var o=Le(n,["anchor","focus"]),[a,s]=P.edges(n),i=[],l=0;for(var c of r){var{length:d}=c.text,f=l;if(l+=d,a.offset<=f&&s.offset>=l)Object.assign(c,o),i.push(c);else if(a.offset!==s.offset&&(a.offset===l||s.offset===f)||a.offset>l||s.offset<f||s.offset===f&&f!==0)i.push(c);else{var u=c,g=void 0,y=void 0;if(s.offset<l){var b=s.offset-f;y=je(je({},u),{},{text:u.text.slice(b)}),u=je(je({},u),{},{text:u.text.slice(0,b)})}if(a.offset>f){var O=a.offset-f;g=je(je({},u),{},{text:u.text.slice(0,O)}),u=je(je({},u),{},{text:u.text.slice(O)})}Object.assign(u,o),g&&i.push(g),i.push(u),y&&i.push(y)}}r=i}return r}};function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ka={transform(e,t){e.children=qn(e.children);var r=e.selection&&qn(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,a=_.parent(e,n),s=n[n.length-1];if(a.children.splice(s,0,o),r)for(var[i,l]of P.points(r))r[l]=W.transform(i,t);break;case"insert_text":var{path:c,offset:d,text:f}=t,u=_.leaf(e,c),g=u.text.slice(0,d),y=u.text.slice(d);if(u.text=g+f+y,r)for(var[b,O]of P.points(r))r[O]=W.transform(b,t);break;case"merge_node":var{path:w}=t,F=_.get(e,w),D=v.previous(w),j=_.get(e,D),q=_.parent(e,w),C=w[w.length-1];if(S.isText(F)&&S.isText(j))j.text+=F.text;else{if(S.isText(F)||S.isText(j))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(w,"] to nodes of different interaces: ").concat(F," ").concat(j));j.children.push(...F.children)}if(q.children.splice(C,1),r)for(var[M,R]of P.points(r))r[R]=W.transform(M,t);break;case"move_node":var{path:E,newPath:I}=t;if(v.isAncestor(E,I))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(I,"] because the destination is inside itself."));var V=_.get(e,E),z=_.parent(e,E),Q=E[E.length-1];z.children.splice(Q,1);var J=v.transform(E,t),ne=_.get(e,v.parent(J)),ee=J[J.length-1];if(ne.children.splice(ee,0,V),r)for(var[oe,ue]of P.points(r))r[ue]=W.transform(oe,t);break;case"remove_node":var{path:te}=t,B=te[te.length-1];if(_.parent(e,te).children.splice(B,1),r)for(var[$,fe]of P.points(r)){var xe=W.transform($,t);if(r!=null&&xe!=null)r[fe]=xe;else{var de=void 0,he=void 0;for(var[re,Pe]of _.texts(e)){if(v.compare(Pe,te)!==-1){he=[re,Pe];break}de=[re,Pe]}de?($.path=de[1],$.offset=de[0].text.length):he?($.path=he[1],$.offset=0):r=null}}break;case"remove_text":var{path:tr,offset:lt,text:rr}=t,$e=_.leaf(e,tr),nr=$e.text.slice(0,lt),or=$e.text.slice(lt+rr.length);if($e.text=nr+or,r)for(var[ar,sr]of P.points(r))r[sr]=W.transform(ar,t);break;case"set_node":var{path:ct,newProperties:ut}=t;if(ct.length===0)throw new Error("Cannot set properties on the root node!");var ft=_.get(e,ct);for(var pe in ut){if(pe==="children"||pe==="text")throw new Error('Cannot set the "'.concat(pe,'" property of nodes!'));var dt=ut[pe];dt==null?delete ft[pe]:ft[pe]=dt}break;case"set_selection":var{newProperties:ge}=t;if(ge==null)r=ge;else if(r==null){if(!P.isRange(ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ge)," when there is no current selection."));r=ge}else Object.assign(r,ge);break;case"split_node":var{path:ve,position:_e,properties:ht}=t;if(ve.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ve,"] because the root node cannot be split."));var Je,ae=_.get(e,ve),ir=_.parent(e,ve),lr=ve[ve.length-1];if(S.isText(ae)){var cr=ae.text.slice(0,_e),ur=ae.text.slice(_e);ae.text=cr,Je=Pt(Pt({},ht),{},{text:ur})}else{var fr=ae.children.slice(0,_e),dr=ae.children.slice(_e);ae.children=fr,Je=Pt(Pt({},ht),{},{children:dr})}if(ir.children.splice(lr+1,0,Je),r)for(var[hr,pr]of P.points(r))r[pr]=W.transform(hr,t)}e.children=In(e.children),e.selection=r?He(r)?In(r):r:null}};function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ua={insertNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:s,match:i,select:l}=r;if(_.isNode(t)&&(t=[t]),t.length!==0){var[c]=t;if(s||(s=e.selection?e.selection:e.children.length>0?p.end(e,[]):[0],l=!0),l==null&&(l=!1),P.isRange(s))if(n||(s=p.unhangRange(e,s)),P.isCollapsed(s))s=s.anchor;else{var[,d]=P.edges(s),f=p.pointRef(e,d);k.delete(e,{at:s}),s=f.unref()}if(W.isPoint(s)){i==null&&(i=S.isText(c)?C=>S.isText(C):e.isInline(c)?C=>S.isText(C)||p.isInline(e,C):C=>p.isBlock(e,C));var[u]=p.nodes(e,{at:s.path,match:i,mode:a,voids:o});if(!u)return;var[,g]=u,y=p.pathRef(e,g),b=p.isEnd(e,s,g);k.splitNodes(e,{at:s,match:i,mode:a,voids:o});var O=y.unref();s=b?v.next(O):O}var w=v.parent(s),F=s[s.length-1];if(o||!p.void(e,{at:w})){for(var D of t){var j=w.concat(F);F++,e.apply({type:"insert_node",path:j,node:D})}if(l){var q=p.end(e,s);q&&k.select(e,q)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(a==null&&(a=v.isPath(r)?et(e,r):D=>p.isBlock(e,D)),r){var s=p.nodes(e,{at:r,match:a,mode:n,voids:o}),i=Array.from(s,D=>{var[,j]=D;return p.pathRef(e,j)});for(var l of i){var c=l.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var d=p.node(e,v.parent(c)),[f,u]=d,g=c[c.length-1],{length:y}=f.children;if(y===1){var b=v.next(u);k.moveNodes(e,{at:c,to:b,voids:o}),k.removeNodes(e,{at:u,voids:o})}else if(g===0)k.moveNodes(e,{at:c,to:u,voids:o});else if(g===y-1){var O=v.next(u);k.moveNodes(e,{at:c,to:O,voids:o})}else{var w=v.next(c),F=v.next(u);k.splitNodes(e,{at:w,voids:o}),k.moveNodes(e,{at:c,to:F,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:s="lowest"}=t;if(n){if(r==null)if(v.isPath(n)){var[i]=p.parent(e,n);r=E=>i.children.includes(E)}else r=E=>p.isBlock(e,E);if(!o&&P.isRange(n)&&(n=p.unhangRange(e,n)),P.isRange(n))if(P.isCollapsed(n))n=n.anchor;else{var[,l]=P.edges(n),c=p.pointRef(e,l);k.delete(e,{at:n}),n=c.unref(),t.at==null&&k.select(e,n)}var[d]=p.nodes(e,{at:n,match:r,voids:a,mode:s}),f=p.previous(e,{at:n,match:r,voids:a,mode:s});if(d&&f){var[u,g]=d,[y,b]=f;if(g.length!==0&&b.length!==0){var O,w,F=v.next(b),D=v.common(g,b),j=v.isSibling(g,b),q=Array.from(p.levels(e,{at:g}),E=>{var[I]=E;return I}).slice(D.length).slice(0,-1),C=p.above(e,{at:g,mode:"highest",match:E=>q.includes(E)&&K.isElement(E)&&E.children.length===1}),M=C&&p.pathRef(e,C[1]);if(S.isText(u)&&S.isText(y)){var R=Le(u,["text"]);w=y.text.length,O=R}else{if(!K.isElement(u)||!K.isElement(y))throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(u)," ").concat(JSON.stringify(y)));R=Le(u,["children"]),w=y.children.length,O=R}j||k.moveNodes(e,{at:g,to:F,voids:a}),M&&k.removeNodes(e,{at:M.current,voids:a}),K.isElement(y)&&p.isEmpty(e,y)||S.isText(y)&&y.text===""?k.removeNodes(e,{at:b,voids:a}):e.apply({type:"merge_node",path:F,position:w,properties:O}),M&&M.unref()}}}})},moveNodes(e,t){p.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:s}=t;if(n){s==null&&(s=v.isPath(n)?et(e,n):g=>p.isBlock(e,g));var i=p.pathRef(e,r),l=p.nodes(e,{at:n,match:s,mode:o,voids:a}),c=Array.from(l,g=>{var[,y]=g;return p.pathRef(e,y)});for(var d of c){var f=d.unref(),u=i.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:u}),i.current&&v.isSibling(u,f)&&v.isAfter(u,f)&&(i.current=v.next(i.current))}i.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:s}=t;if(a){s==null&&(s=v.isPath(a)?et(e,a):u=>p.isBlock(e,u)),!r&&P.isRange(a)&&(a=p.unhangRange(e,a));var i=p.nodes(e,{at:a,match:s,mode:o,voids:n}),l=Array.from(i,u=>{var[,g]=u;return p.pathRef(e,g)});for(var c of l){var d=c.unref();if(d){var[f]=p.node(e,d);e.apply({type:"remove_node",path:d,node:f})}}}})},setNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:s="lowest",split:i=!1,voids:l=!1}=r;if(o){if(n==null&&(n=v.isPath(o)?et(e,o):F=>p.isBlock(e,F)),!a&&P.isRange(o)&&(o=p.unhangRange(e,o)),i&&P.isRange(o)){var c=p.rangeRef(e,o,{affinity:"inward"}),[d,f]=P.edges(o),u=s==="lowest"?"lowest":"highest";k.splitNodes(e,{at:f,match:n,mode:u,voids:l}),k.splitNodes(e,{at:d,match:n,mode:u,voids:l}),o=c.unref(),r.at==null&&k.select(e,o)}for(var[g,y]of p.nodes(e,{at:o,match:n,mode:s,voids:l})){var b={},O={};if(y.length!==0){for(var w in t)w!=="children"&&w!=="text"&&t[w]!==g[w]&&(b[w]=g[w],O[w]=t[w]);Object.keys(O).length!==0&&e.apply({type:"set_node",path:y,properties:b,newProperties:O})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:s=0,always:i=!1}=t;if(o==null&&(o=J=>p.isBlock(e,J)),P.isRange(a)&&(a=Za(e,a)),v.isPath(a)){var l=a,c=p.point(e,l),[d]=p.parent(e,l);o=J=>J===d,s=c.path.length-l.length+1,a=c,i=!0}if(a){var f=p.pointRef(e,a,{affinity:"backward"}),[u]=p.nodes(e,{at:a,match:o,mode:r,voids:n});if(u){var g=p.void(e,{at:a,mode:"highest"});if(!n&&g){var[y,b]=g;if(K.isElement(y)&&e.isInline(y)){var O=p.after(e,b);if(!O){var w=v.next(b);k.insertNodes(e,{text:""},{at:w,voids:n}),O=p.point(e,w)}a=O,i=!0}s=a.path.length-b.length+1,i=!0}var F=p.pointRef(e,a),D=a.path.length-s,[,j]=u,q=a.path.slice(0,D),C=s===0?a.offset:a.path[D]+0;for(var[M,R]of p.levels(e,{at:q,reverse:!0,voids:n})){var E=!1;if(R.length<j.length||R.length===0||!n&&p.isVoid(e,M))break;var I=f.current,V=p.isEnd(e,I,R);if(i||!f||!p.isEdge(e,I,R)){E=!0;var z=_.extractProps(M);e.apply({type:"split_node",path:R,position:C,properties:z})}C=R[R.length-1]+(E||V?1:0)}if(t.at==null){var Q=F.current||p.end(e,[]);k.select(e,Q)}f.unref(),F.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;k.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:s}=t;if(a){s==null&&(s=v.isPath(a)?et(e,a):u=>p.isBlock(e,u)),v.isPath(a)&&(a=p.range(e,a));var i=P.isRange(a)?p.rangeRef(e,a):null,l=p.nodes(e,{at:a,match:s,mode:r,voids:o}),c=Array.from(l,u=>{var[,g]=u;return p.pathRef(e,g)}),d=function(u){var g=u.unref(),[y]=p.node(e,g),b=p.range(e,g);n&&i&&(b=P.intersection(i.current,b)),k.liftNodes(e,{at:b,match:O=>K.isAncestor(y)&&y.children.includes(O),voids:o})};for(var f of c)d(f);i&&i.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:s,at:i=e.selection}=r;if(i){if(s==null&&(s=v.isPath(i)?et(e,i):e.isInline(t)?b=>p.isInline(e,b)||S.isText(b):b=>p.isBlock(e,b)),o&&P.isRange(i)){var[l,c]=P.edges(i),d=p.rangeRef(e,i,{affinity:"inward"});k.splitNodes(e,{at:c,match:s,voids:a}),k.splitNodes(e,{at:l,match:s,voids:a}),i=d.unref(),r.at==null&&k.select(e,i)}var f=Array.from(p.nodes(e,{at:i,match:e.isInline(t)?b=>p.isBlock(e,b):b=>p.isEditor(b),mode:"lowest",voids:a}));for(var[,u]of f){var g=P.isRange(i)?P.intersection(i,p.range(e,u)):i;if(g){var y=Array.from(p.nodes(e,{at:g,match:s,mode:n,voids:a}));y.length>0&&function(){var[b]=y,O=y[y.length-1],[,w]=b,[,F]=O,D=v.equals(w,F)?v.parent(w):v.common(w,F),j=p.range(e,w,F),q=p.node(e,D),[C]=q,M=D.length+1,R=v.next(F.slice(0,M)),E=Gn(Gn({},t),{},{children:[]});k.insertNodes(e,E,{at:R,voids:a}),k.moveNodes(e,{at:j,match:I=>K.isAncestor(C)&&C.children.includes(I),to:R.concat(0),voids:a})}()}}}})}},Za=(e,t)=>{if(P.isCollapsed(t))return t.anchor;var[,r]=P.edges(t),n=p.pointRef(e,r);return k.delete(e,{at:t}),n.unref()},et=(e,t)=>{var[r]=p.node(e,t);return n=>n===r};function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qn(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ha={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n){if(r==="anchor")k.select(e,n.anchor);else if(r==="focus")k.select(e,n.focus);else if(r==="start"){var[o]=P.edges(n);k.select(e,o)}else if(r==="end"){var[,a]=P.edges(n);k.select(e,a)}}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:s=null}=t;if(r){s==="start"&&(s=P.isBackward(r)?"focus":"anchor"),s==="end"&&(s=P.isBackward(r)?"anchor":"focus");var{anchor:i,focus:l}=r,c={distance:n,unit:o},d={};if(s==null||s==="anchor"){var f=a?p.before(e,i,c):p.after(e,i,c);f&&(d.anchor=f)}if(s==null||s==="focus"){var u=a?p.before(e,l,c):p.after(e,l,c);u&&(d.focus=u)}k.setSelection(e,d)}},select(e,t){var{selection:r}=e;if(t=p.range(e,t),r)k.setSelection(e,t);else{if(!P.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(n){o==="start"&&(o=P.isBackward(n)?"focus":"anchor"),o==="end"&&(o=P.isBackward(n)?"anchor":"focus");var{anchor:a,focus:s}=n,i=o==="anchor"?a:s;k.setSelection(e,{[o==="anchor"?"anchor":"focus"]:eo(eo({},i),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var a in t)(a==="anchor"&&t.anchor!=null&&!W.equals(t.anchor,r.anchor)||a==="focus"&&t.focus!=null&&!W.equals(t.focus,r.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},Xa={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:i=!1}=t;if(s){if(P.isRange(s)&&P.isCollapsed(s)&&(s=s.anchor),W.isPoint(s)){var l=p.void(e,{at:s,mode:"highest"});if(!a&&l){var[,c]=l;s=c}else{var d={unit:n,distance:o};s={anchor:s,focus:r?p.before(e,s,d)||p.start(e,[]):p.after(e,s,d)||p.end(e,[])},i=!0}}if(v.isPath(s))k.removeNodes(e,{at:s,voids:a});else if(!P.isCollapsed(s)){i||(s=p.unhangRange(e,s,{voids:a}));var[f,u]=P.edges(s),g=p.above(e,{match:re=>p.isBlock(e,re),at:f,voids:a}),y=p.above(e,{match:re=>p.isBlock(e,re),at:u,voids:a}),b=g&&y&&!v.equals(g[1],y[1]),O=v.equals(f.path,u.path),w=a?null:p.void(e,{at:f,mode:"highest"}),F=a?null:p.void(e,{at:u,mode:"highest"});if(w){var D=p.before(e,f);D&&g&&v.isAncestor(g[1],D.path)&&(f=D)}if(F){var j=p.after(e,u);j&&y&&v.isAncestor(y[1],j.path)&&(u=j)}var q,C=[];for(var M of p.nodes(e,{at:s,voids:a})){var[R,E]=M;q&&v.compare(E,q)===0||(!a&&p.isVoid(e,R)||!v.isCommon(E,f.path)&&!v.isCommon(E,u.path))&&(C.push(M),q=E)}var I=Array.from(C,re=>{var[,Pe]=re;return p.pathRef(e,Pe)}),V=p.pointRef(e,f),z=p.pointRef(e,u);if(!O&&!w){var Q=V.current,[J]=p.leaf(e,Q),{path:ne}=Q,{offset:ee}=f,oe=J.text.slice(ee);e.apply({type:"remove_text",path:ne,offset:ee,text:oe})}for(var ue of I){var te=ue.unref();k.removeNodes(e,{at:te,voids:a})}if(!F){var B=z.current,[$]=p.leaf(e,B),{path:fe}=B,xe=O?f.offset:0,de=$.text.slice(xe,u.offset);e.apply({type:"remove_text",path:fe,offset:xe,text:de})}!O&&b&&z.current&&V.current&&k.mergeNodes(e,{at:z.current,hanging:!0,voids:a});var he=z.unref()||V.unref();t.at==null&&he&&k.select(e,he)}}})},insertFragment(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(t.length&&a){if(P.isRange(a))if(n||(a=p.unhangRange(e,a)),P.isCollapsed(a))a=a.anchor;else{var[,s]=P.edges(a);if(!o&&p.void(e,{at:s}))return;var i=p.pointRef(e,s);k.delete(e,{at:a}),a=i.unref()}else v.isPath(a)&&(a=p.start(e,a));if(o||!p.void(e,{at:a})){var l=p.above(e,{at:a,match:B=>p.isInline(e,B),mode:"highest",voids:o});if(l){var[,c]=l;p.isEnd(e,a,c)?a=p.after(e,c):p.isStart(e,a,c)&&(a=p.before(e,c))}var d=p.above(e,{match:B=>p.isBlock(e,B),at:a,voids:o}),[,f]=d,u=p.isStart(e,a,f),g=p.isEnd(e,a,f),y=!u||u&&g,b=!g,[,O]=_.first({children:t},[]),[,w]=_.last({children:t},[]),F=[],D=B=>{var[$,fe]=B;return!(y&&v.isAncestor(fe,O)&&K.isElement($)&&!e.isVoid($)&&!e.isInline($))&&!(b&&v.isAncestor(fe,w)&&K.isElement($)&&!e.isVoid($)&&!e.isInline($))};for(var j of _.nodes({children:t},{pass:D}))j[1].length>0&&D(j)&&F.push(j);var q=[],C=[],M=[],R=!0,E=!1;for(var[I]of F)K.isElement(I)&&!e.isInline(I)?(R=!1,E=!0,C.push(I)):R?q.push(I):M.push(I);var[V]=p.nodes(e,{at:a,match:B=>S.isText(B)||p.isInline(e,B),mode:"highest",voids:o}),[,z]=V,Q=p.isStart(e,a,z),J=p.isEnd(e,a,z),ne=p.pathRef(e,g?v.next(f):f),ee=p.pathRef(e,J?v.next(z):z);k.splitNodes(e,{at:a,match:B=>E?p.isBlock(e,B):S.isText(B)||p.isInline(e,B),mode:E?"lowest":"highest",voids:o});var oe=p.pathRef(e,!Q||Q&&J?v.next(z):z);if(k.insertNodes(e,q,{at:oe.current,match:B=>S.isText(B)||p.isInline(e,B),mode:"highest",voids:o}),k.insertNodes(e,C,{at:ne.current,match:B=>p.isBlock(e,B),mode:"lowest",voids:o}),k.insertNodes(e,M,{at:ee.current,match:B=>S.isText(B)||p.isInline(e,B),mode:"highest",voids:o}),!r.at){var ue;ue=M.length>0?v.previous(ee.current):C.length>0?v.previous(ne.current):v.previous(oe.current);var te=p.end(e,ue);k.select(e,te)}oe.unref(),ne.unref(),ee.unref()}}})},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(v.isPath(o)&&(o=p.range(e,o)),P.isRange(o))if(P.isCollapsed(o))o=o.anchor;else{var a=P.end(o);if(!n&&p.void(e,{at:a}))return;var s=p.pointRef(e,a);k.delete(e,{at:o,voids:n}),o=s.unref(),k.setSelection(e,{anchor:o,focus:o})}if(n||!p.void(e,{at:o})){var{path:i,offset:l}=o;e.apply({type:"insert_text",path:i,offset:l,text:t})}}})}};function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?to(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var k=At(At(At(At({},Ka),Ua),Ha),Xa);function Ya(e,t){const r=new Set(e.split(","));return n=>r.has(n)}const Ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ir=Object.assign,Qa=Object.prototype.hasOwnProperty,$t=(e,t)=>Qa.call(e,t),ce=Array.isArray,Bt=e=>Uo(e)==="[object Map]",Ee=e=>typeof e=="function",ze=e=>typeof e=="string",bt=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",es=e=>(Te(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),ts=Object.prototype.toString,Uo=e=>ts.call(e),rs=e=>Uo(e).slice(8,-1),sn=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zo=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},ns=/-(\w)/g,bi=Zo(e=>e.replace(ns,(t,r)=>r?r.toUpperCase():"")),Oi=Zo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Gt=(e,t)=>!Object.is(e,t);let ro;function ln(e){if(ce(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=ze(n)?is(n):ln(n);if(o)for(const a in o)t[a]=o[a]}return t}if(ze(e)||Te(e))return e}const os=/;(?![^(]*\))/g,as=/:([^]+)/,ss=/\/\*[^]*?\*\//g;function is(e){const t={};return e.replace(ss,"").split(os).forEach(r=>{if(r){const n=r.split(as);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function cn(e){let t="";if(ze(e))t=e;else if(ce(e))for(let r=0;r<e.length;r++){const n=cn(e[r]);n&&(t+=n+" ")}else if(Te(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}let no,Jt=!0,zr=0;const Ho=[];function un(){Ho.push(Jt),Jt=!1}function fn(){const e=Ho.pop();Jt=e===void 0||e}function dn(){zr++}function hn(){for(zr--;!zr&&Wr.length;)Wr.shift()()}const Wr=[];function ls(e,t,r){dn();for(const n of e.keys()){let o;n._dirtyLevel<t&&(o??(o=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(o??(o=e.get(n)===n._trackId))&&(n.trigger(),n._runnings&&!n.allowRecurse||n._dirtyLevel===2||(n._shouldSchedule=!1,n.scheduler&&Wr.push(n.scheduler)))}hn()}const cs=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Lr=new WeakMap,Ze=Symbol(""),Vr=Symbol("");function Oe(e,t,r){if(Jt&&no){let n=Lr.get(e);n||Lr.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=cs(()=>n.delete(r))),function(a,s,i){s.get(a)!==a._trackId&&(s.set(a,a._trackId),a.deps[a._depsLength]!==s?a.deps[a._depsLength++]=s:a._depsLength++)}(no,o)}}function We(e,t,r,n,o,a){const s=Lr.get(e);if(!s)return;let i=[];if(t==="clear")i=[...s.values()];else if(r==="length"&&ce(e)){const l=Number(n);s.forEach((c,d)=>{(d==="length"||!bt(d)&&d>=l)&&i.push(c)})}else switch(r!==void 0&&i.push(s.get(r)),t){case"add":ce(e)?sn(r)&&i.push(s.get("length")):(i.push(s.get(Ze)),Bt(e)&&i.push(s.get(Vr)));break;case"delete":ce(e)||(i.push(s.get(Ze)),Bt(e)&&i.push(s.get(Vr)));break;case"set":Bt(e)&&i.push(s.get(Ze))}dn();for(const l of i)l&&ls(l,4);hn()}const us=Ya("__proto__,__v_isRef,__isVue"),Xo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(bt)),oo=fs();function fs(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Z(this);for(let a=0,s=this.length;a<s;a++)Oe(n,0,a+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(Z)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){un(),dn();const n=Z(this)[t].apply(this,r);return hn(),fn(),n}}),e}function ds(e){bt(e)||(e=String(e));const t=Z(this);return Oe(t,0,e),t.hasOwnProperty(e)}class Yo{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const o=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(o?a?Fs:ea:a?As:Qo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=ce(t);if(!o){if(s&&$t(oo,r))return Reflect.get(oo,r,n);if(r==="hasOwnProperty")return ds}const i=Reflect.get(t,r,n);return(bt(r)?Xo.has(r):us(r))?i:(o||Oe(t,0,r),a?i:Kt(i)?s&&sn(r)?i:i.value:Te(i)?o?ra(i):ta(i):i)}}class hs extends Yo{constructor(t=!1){super(!1,t)}set(t,r,n,o){let a=t[r];if(!this._isShallow){const l=$r(a);if(function(c){return!(!c||!c.__v_isShallow)}(n)||$r(n)||(a=Z(a),n=Z(n)),!ce(t)&&Kt(a)&&!Kt(n))return!l&&(a.value=n,!0)}const s=ce(t)&&sn(r)?Number(r)<t.length:$t(t,r),i=Reflect.set(t,r,n,o);return t===Z(o)&&(s?Gt(n,a)&&We(t,"set",r,n):We(t,"add",r,n)),i}deleteProperty(t,r){const n=$t(t,r);t[r];const o=Reflect.deleteProperty(t,r);return o&&n&&We(t,"delete",r,void 0),o}has(t,r){const n=Reflect.has(t,r);return bt(r)&&Xo.has(r)||Oe(t,0,r),n}ownKeys(t){return Oe(t,0,ce(t)?"length":Ze),Reflect.ownKeys(t)}}class ps extends Yo{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const gs=new hs,vs=new ps,pn=e=>e,Qt=e=>Reflect.getPrototypeOf(e);function Ft(e,t,r=!1,n=!1){const o=Z(e=e.__v_raw),a=Z(t);r||(Gt(t,a)&&Oe(o,0,t),Oe(o,0,a));const{has:s}=Qt(o),i=n?pn:r?vn:gn;return s.call(o,t)?i(e.get(t)):s.call(o,a)?i(e.get(a)):void(e!==o&&e.get(t))}function Et(e,t=!1){const r=this.__v_raw,n=Z(r),o=Z(e);return t||(Gt(e,o)&&Oe(n,0,e),Oe(n,0,o)),e===o?r.has(e):r.has(e)||r.has(o)}function kt(e,t=!1){return e=e.__v_raw,!t&&Oe(Z(e),0,Ze),Reflect.get(e,"size",e)}function ao(e){e=Z(e);const t=Z(this);return Qt(t).has.call(t,e)||(t.add(e),We(t,"add",e,e)),this}function so(e,t){t=Z(t);const r=Z(this),{has:n,get:o}=Qt(r);let a=n.call(r,e);a||(e=Z(e),a=n.call(r,e));const s=o.call(r,e);return r.set(e,t),a?Gt(t,s)&&We(r,"set",e,t):We(r,"add",e,t),this}function io(e){const t=Z(this),{has:r,get:n}=Qt(t);let o=r.call(t,e);o||(e=Z(e),o=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return o&&We(t,"delete",e,void 0),a}function lo(){const e=Z(this),t=e.size!==0,r=e.clear();return t&&We(e,"clear",void 0,void 0),r}function _t(e,t){return function(r,n){const o=this,a=o.__v_raw,s=Z(a),i=t?pn:e?vn:gn;return!e&&Oe(s,0,Ze),a.forEach((l,c)=>r.call(n,i(l),i(c),o))}}function jt(e,t,r){return function(...n){const o=this.__v_raw,a=Z(o),s=Bt(a),i=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=o[e](...n),d=r?pn:t?vn:gn;return!t&&Oe(a,0,l?Vr:Ze),{next(){const{value:f,done:u}=c.next();return u?{value:f,done:u}:{value:i?[d(f[0]),d(f[1])]:d(f),done:u}},[Symbol.iterator](){return this}}}}function qe(e){return function(...t){return e!=="delete"&&(e==="clear"?void 0:this)}}function ms(){const e={get(o){return Ft(this,o)},get size(){return kt(this)},has:Et,add:ao,set:so,delete:io,clear:lo,forEach:_t(!1,!1)},t={get(o){return Ft(this,o,!1,!0)},get size(){return kt(this)},has:Et,add:ao,set:so,delete:io,clear:lo,forEach:_t(!1,!0)},r={get(o){return Ft(this,o,!0)},get size(){return kt(this,!0)},has(o){return Et.call(this,o,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:_t(!0,!1)},n={get(o){return Ft(this,o,!0,!0)},get size(){return kt(this,!0)},has(o){return Et.call(this,o,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:_t(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=jt(o,!1,!1),r[o]=jt(o,!0,!1),t[o]=jt(o,!1,!0),n[o]=jt(o,!0,!0)}),[e,r,t,n]}const[ys,ws,bs,Os]=ms();function Go(e,t){const r=t?e?Os:bs:e?ws:ys;return(n,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get($t(r,o)&&o in n?r:n,o,a)}const xs={get:Go(!1,!1)},Ps={get:Go(!0,!1)},Qo=new WeakMap,As=new WeakMap,ea=new WeakMap,Fs=new WeakMap;function ta(e){return $r(e)?e:na(e,!1,gs,xs,Qo)}function ra(e){return na(e,!0,vs,Ps,ea)}function na(e,t,r,n,o){if(!Te(e)||e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const s=(i=e).__v_skip||!Object.isExtensible(i)?0:function(c){switch(c){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(rs(i));var i;if(s===0)return e;const l=new Proxy(e,s===2?n:r);return o.set(e,l),l}function $r(e){return!(!e||!e.__v_isReadonly)}function co(e){return!!e&&!!e.__v_raw}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}const gn=e=>Te(e)?ta(e):e,vn=e=>Te(e)?ra(e):e;function Kt(e){return!(!e||e.__v_isRef!==!0)}function oa(e,t,r,n){try{return n?e(...n):e()}catch(o){sa(o,t,r)}}function aa(e,t,r,n){if(Ee(e)){const o=oa(e,t,r,n);return o&&es(o)&&o.catch(a=>{sa(a,t,r)}),o}if(ce(e)){const o=[];for(let a=0;a<e.length;a++)o.push(aa(e[a],t,r,n));return o}}function sa(e,t,r,n=!0){if(t&&t.vnode,t){let o=t.parent;const a=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const l=o.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,a,s)===!1)return}o=o.parent}const i=t.appContext.config.errorHandler;if(i)return un(),oa(i,null,10,[e,a,s]),void fn()}(function(o,a,s,i=!0){console.error(o)})(e,0,0,n)}let Ie=null,Es=null;const ks=Symbol.for("v-ndc");function _s(e,t,r=it,n=!1){if(r){const o=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{un();const i=Bs(r),l=aa(t,r,e,s);return i(),fn(),l});return n?o.unshift(a):o.push(a),a}}const ia=e=>(t,r=it)=>{ha&&e!=="sp"||_s(e,(...n)=>t(...n),r)},xi=ia("m"),Pi=ia("u");function la(e,t){return Ee(e)?Ir({name:e.name},t,{setup:e}):e}function xr(e,t,r=!1){const n=it||Ie;if(n){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:null._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&Ee(t)?t.call(n&&n.proxy):t}}const js={},ca=e=>Object.getPrototypeOf(e)===js;function ua(e,t){6&e.shapeFlag&&e.component?ua(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}const fa=Symbol.for("v-fgt"),Cs=Symbol.for("v-txt"),Ds=Symbol.for("v-cmt");let tt=null;function Ns(e){return!!e&&e.__v_isVNode===!0}const da=({key:e})=>e??null,Tt=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?ze(e)||Kt(e)||Ee(e)?{i:Ie,r:e,k:t,f:!!r}:e:null),Ne=function(e,t=null,r=null,n=0,o=null,a=!1){if(e&&e!==ks||(e=Ds),Ns(e)){const l=Jr(e,t,!0);return r&&Kr(l,r),!a&&tt&&(6&l.shapeFlag?tt[tt.indexOf(e)]=l:tt.push(l)),l.patchFlag=-2,l}s=e,Ee(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){t=function(d){return d?co(d)||ca(d)?Ir({},d):d:null}(t);let{class:l,style:c}=t;l&&!ze(l)&&(t.class=cn(l)),Te(c)&&(co(c)&&!ce(c)&&(c=Ir({},c)),t.style=ln(c))}const i=ze(e)?1:(l=>l.__isSuspense)(e)?128:(l=>l.__isTeleport)(e)?64:Te(e)?4:Ee(e)?2:0;return function(l,c=null,d=null,f=0,u=null,g=l===fa?0:1,y=!1,b=!1){const O={__v_isVNode:!0,__v_skip:!0,type:l,props:c,key:c&&da(c),ref:c&&Tt(c),scopeId:Es,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:f,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Ie};return b?(Kr(O,d),128&g&&l.normalize(O)):d&&(O.shapeFlag|=ze(d)?8:16),!y&&tt&&(O.patchFlag>0||6&g)&&O.patchFlag!==32&&tt.push(O),O}(e,t,r,n,o,i,a,!0)};function Jr(e,t,r=!1,n=!1){const{props:o,ref:a,patchFlag:s,children:i,transition:l}=e,c=t?Rs(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&da(c),ref:t&&t.ref?r&&a?ce(a)?a.concat(Tt(t)):[a,Tt(t)]:Tt(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fa?s===-1?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jr(e.ssContent),ssFallback:e.ssFallback&&Jr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ua(d,l.clone(d)),d}function Ss(e=" ",t=0){return Ne(Cs,null,e,t)}function Kr(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ce(t))r=16;else if(typeof t=="object"){if(65&n){const o=t.default;return void(o&&(o._c&&(o._d=!1),Kr(e,o()),o._c&&(o._d=!0)))}{r=32;const o=t._;o||ca(t)?o===3&&Ie&&(Ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Ie}}else Ee(t)?(t={default:t,_ctx:Ie},r=32):(t=String(t),64&n?(r=16,t=[Ss(t)]):r=8);e.children=t,e.shapeFlag|=r}function Rs(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=cn([t.class,n.class]));else if(o==="style")t.style=ln([t.style,n.style]);else if(Ga(o)){const a=t[o],s=n[o];!s||a===s||ce(a)&&a.includes(s)||(t[o]=a?[].concat(a,s):s)}else o!==""&&(t[o]=n[o])}return t}let it=null,Ur;{const e=ro||(ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),t=(r,n)=>{let o;return(o=e[r])||(o=e[r]=[]),o.push(n),a=>{o.length>1?o.forEach(s=>s(a)):o[0](a)}};Ur=t("__VUE_INSTANCE_SETTERS__",r=>it=r),t("__VUE_SSR_SETTERS__",r=>ha=r)}const Bs=e=>{const t=it;return Ur(e),e.scope.on(),()=>{e.scope.off(),Ur(t)}};let ha=!1;const Ts=()=>it||Ie,Ms=()=>{const e=Ts(),t=r=>{var n;if(r.$editor)return r.$editor;if(((n=r.type)==null?void 0:n.name)==="Slate"){r.$editor=yi();const o=r.root.__slateConfig;return o!=null&&o.editorCreated&&o.editorCreated.call(r.proxy,r.$editor),r.$editor}return t(r.parent)};return t(e)};var Se={};Object.defineProperty(Se,"__esModule",{value:!0});for(var qs=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Pr={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},pa={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:qs?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},mn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},Ct=1;Ct<20;Ct++)mn["f"+Ct]=111+Ct;function Mt(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(a){return ga(a,t)}),o=function(a){return n.some(function(s){return va(s,a)})};return r==null?o:o(r)}function ga(e,t){var r=t&&t.byKey,n={},o=(e=e.replace("++","+add")).split("+"),a=o.length;for(var s in Pr)n[Pr[s]]=!1;var i=!0,l=!1,c=void 0;try{for(var d,f=o[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var u=d.value,g=u.endsWith("?")&&u.length>1;g&&(u=u.slice(0,-1));var y=yn(u),b=Pr[y];if(u.length>1&&!b&&!pa[u]&&!mn[y])throw new TypeError('Unknown modifier: "'+u+'"');a!==1&&b||(r?n.key=y:n.which=ma(u)),b&&(n[b]=!g||null)}}catch(O){l=!0,c=O}finally{try{!i&&f.return&&f.return()}finally{if(l)throw c}}return n}function va(e,t){for(var r in e){var n=e[r],o=void 0;if(n!=null&&((o=r==="key"&&t.key!=null?t.key.toLowerCase():r==="which"?n===91&&t.which===93?91:t.which:t[r])!=null||n!==!1)&&o!==n)return!1}return!0}function ma(e){return e=yn(e),mn[e]||e.toUpperCase().charCodeAt(0)}function yn(e){return e=e.toLowerCase(),e=pa[e]||e}Se.default=Mt,Se.isHotkey=Mt,Se.isCodeHotkey=function(e,t){return Mt(e,t)};var Ar=Se.isKeyHotkey=function(e,t){return Mt(e,{byKey:!0},t)};Se.parseHotkey=ga,Se.compareHotkey=va,Se.toKeyCode=ma,Se.toKeyName=yn;const uo=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Is={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},zs={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Ws={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},U=e=>{const t=Is[e],r=zs[e],n=Ws[e],o=t&&Ar(t),a=r&&Ar(r),s=n&&Ar(n);return i=>!(!o||!o(i))||!!(uo&&a&&a(i))||!(uo||!s||!s(i))};U("bold"),U("compose"),U("moveBackward"),U("moveForward"),U("deleteBackward"),U("deleteForward"),U("deleteLineBackward"),U("deleteLineForward"),U("deleteWordBackward"),U("deleteWordForward"),U("extendBackward"),U("extendForward"),U("extendLineBackward"),U("extendLineForward"),U("italic"),U("moveLineBackward"),U("moveLineForward"),U("moveWordBackward"),U("moveWordForward"),U("redo"),U("splitBlock"),U("transposeCharacter"),U("undo");const De=e=>wn(e)&&e.nodeType===1,wn=e=>e instanceof Node,ya=e=>wn(e)&&e.nodeType===3,fo=(e,t,r)=>{const{childNodes:n}=e;let o=n[t],a=t,s=!1,i=!1;for(;(wn(l=o)&&l.nodeType===8||De(o)&&o.childNodes.length===0||De(o)&&o.getAttribute("contenteditable")==="false")&&(!s||!i);)a>=n.length?(s=!0,a=t-1,r="backward"):a<0?(i=!0,a=t+1,r="forward"):(o=n[a],a+=r==="forward"?1:-1);var l;return o},wa=e=>{let t="";if(ya(e)&&e.nodeValue)return e.nodeValue;if(De(e)){for(const n of Array.from(e.childNodes))t+=wa(n);const r=getComputedStyle(e).getPropertyValue("display");r!=="block"&&r!=="list"&&e.tagName!=="BR"||(t+=`
`)}return t};let Ls=0;class Vs{constructor(){kn(this,"id");this.id=""+Ls++}}const $s=new WeakMap,Js=new WeakMap,Ks=new WeakMap,Us=new WeakMap,Zs=new WeakMap;const Ut=new WeakMap,Hs=new WeakMap,Fr=new WeakMap,Xs=new WeakMap,Ai=Symbol("placeholder");function ho(e){return(t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1&&Object.prototype.toString.call(e)==="[object Object]";var t}function le(e){var t,r;return ho(e)!==!1&&typeof(t=e.constructor)=="function"&&ho(r=t.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1}function Fe(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ye(e){return!!e&&!!e[be]}function Ge(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);return!r||r===Object.prototype}(e)||Array.isArray(e)||!!e[Oo]||!!e.constructor[Oo]||bn(e)||On(e))}function yt(e,t,r){r===void 0&&(r=!1),st(e)===0?(r?Object.keys:En)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function st(e){var t=e[be];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:bn(e)?2:On(e)?3:0}function Zr(e,t){return st(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ba(e,t,r){var n=st(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function bn(e){return ei&&e instanceof Map}function On(e){return ti&&e instanceof Set}function Ue(e){return e.o||e.t}function xn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ri(e);delete t[be];for(var r=En(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Pn(e,t){An(e)||Ye(e)||!Ge(e)||(st(e)>1&&(e.set=e.add=e.clear=e.delete=Ys),Object.freeze(e),t&&yt(e,function(r,n){return Pn(n,!0)},!0))}function Ys(){Fe(2)}function An(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Be(e){var t=ni[e];return t||Fe(18,e),t}function po(){return wt}function Er(e,t){t&&(Be("Patches"),e.u=[],e.s=[],e.v=t)}function Zt(e){Hr(e),e.p.forEach(Gs),e.p=null}function Hr(e){e===wt&&(wt=e.l)}function go(e){return wt={p:[],l:wt,h:e,m:!0,_:0}}function Gs(e){var t=e[be];t.i===0||t.i===1?t.j():t.g=!0}function kr(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Be("ES5").S(t,e,n),n?(r[be].P&&(Zt(t),Fe(4)),Ge(e)&&(e=Ht(t,e),t.l||Xt(t,e)),t.u&&Be("Patches").M(r[be],e,t.u,t.s)):e=Ht(t,r,[]),Zt(t),t.u&&t.v(t.u,t.s),e!==Oa?e:void 0}function Ht(e,t,r){if(An(t))return t;var n=t[be];if(!n)return yt(t,function(a,s){return vo(e,n,t,a,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Xt(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=xn(n.k):n.o;yt(n.i===3?new Set(o):o,function(a,s){return vo(e,n,o,a,s,r)}),Xt(e,o,!1),r&&e.u&&Be("Patches").R(n,r,e.u,e.s)}return n.o}function vo(e,t,r,n,o,a){if(Ye(o)){var s=Ht(e,o,a&&t&&t.i!==3&&!Zr(t.D,n)?a.concat(n):void 0);if(ba(r,n,s),!Ye(s))return;e.m=!1}if(Ge(o)&&!An(o)){if(!e.h.N&&e._<1)return;Ht(e,o),t&&t.A.l||Xt(e,o)}}function Xt(e,t,r){r===void 0&&(r=!1),e.h.N&&e.m&&Pn(t,r)}function _r(e,t){var r=e[be];return(r?Ue(r):e)[t]}function mo(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Xr(e){e.P||(e.P=!0,e.l&&Xr(e.l))}function jr(e){e.o||(e.o=xn(e.t))}function Yr(e,t,r){var n=bn(t)?Be("MapSet").T(t,r):On(t)?Be("MapSet").F(t,r):e.O?function(o,a){var s=Array.isArray(o),i={i:s?1:0,A:a?a.A:po(),P:!1,I:!1,D:{},l:a,t:o,k:null,o:null,j:null,C:!1},l=i,c=qt;s&&(l=[i],c=It);var d=Proxy.revocable(l,c),f=d.revoke,u=d.proxy;return i.k=u,i.j=f,u}(t,r):Be("ES5").J(t,r);return(r?r.A:po()).p.push(n),n}function Qs(e){return Ye(e)||Fe(22,e),function t(r){if(!Ge(r))return r;var n,o=r[be],a=st(r);if(o){if(!o.P&&(o.i<4||!Be("ES5").K(o)))return o.t;o.I=!0,n=yo(r,a),o.I=!1}else n=yo(r,a);return yt(n,function(s,i){o&&function(l,c){return st(l)===2?l.get(c):l[c]}(o.t,s)===i||ba(n,s,t(i))}),a===3?new Set(n):n}(e)}function yo(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return xn(e)}var wo,wt,Fn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ei=typeof Map<"u",ti=typeof Set<"u",bo=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Oa=Fn?Symbol.for("immer-nothing"):((wo={})["immer-nothing"]=!0,wo),Oo=Fn?Symbol.for("immer-draftable"):"__$immer_draftable",be=Fn?Symbol.for("immer-state"):"__$immer_state",En=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ri=Object.getOwnPropertyDescriptors||function(e){var t={};return En(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},ni={},qt={get:function(e,t){if(t===be)return e;var r,n,o,a=Ue(e);if(!Zr(a,t))return r=e,(o=mo(a,t))?"value"in o?o.value:(n=o.get)===null||n===void 0?void 0:n.call(r.k):void 0;var s=a[t];return e.I||!Ge(s)?s:s===_r(e.t,t)?(jr(e),e.o[t]=Yr(e.A.h,s,e)):s},has:function(e,t){return t in Ue(e)},ownKeys:function(e){return Reflect.ownKeys(Ue(e))},set:function(e,t,r){var n=mo(Ue(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=_r(Ue(e),t),a=o==null?void 0:o[be];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(s,i){return s===i?s!==0||1/s==1/i:s!=s&&i!=i}(r,o)&&(r!==void 0||Zr(e.t,t)))return!0;jr(e),Xr(e)}return e.o[t]=r,e.D[t]=!0,!0},deleteProperty:function(e,t){return _r(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,jr(e),Xr(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Ue(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Fe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Fe(12)}},It={};yt(qt,function(e,t){It[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),It.deleteProperty=function(e,t){return qt.deleteProperty.call(this,e[0],t)},It.set=function(e,t,r){return qt.set.call(this,e[0],t,r,e[0])};var ye=new(function(){function e(r){this.O=bo,this.N=!1,typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(r,n,o){if(typeof r=="function"&&typeof n!="function"){var a=n;n=r;var s=this;return function(f){var u=this;f===void 0&&(f=a);for(var g=arguments.length,y=Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];return s.produce(f,function(O){var w;return(w=n).call.apply(w,[u,O].concat(y))})}}var i;if(typeof n!="function"&&Fe(6),o!==void 0&&typeof o!="function"&&Fe(7),Ge(r)){var l=go(this),c=Yr(this,r,void 0),d=!0;try{i=n(c),d=!1}finally{d?Zt(l):Hr(l)}return typeof Promise<"u"&&i instanceof Promise?i.then(function(f){return Er(l,o),kr(f,l)},function(f){throw Zt(l),f}):(Er(l,o),kr(i,l))}if(!r||typeof r!="object")return(i=n(r))===Oa?void 0:(i===void 0&&(i=r),this.N&&Pn(i,!0),i);Fe(21,r)},t.produceWithPatches=function(r,n){var o,a,s=this;return typeof r=="function"?function(i){for(var l=arguments.length,c=Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];return s.produceWithPatches(i,function(f){return r.apply(void 0,[f].concat(c))})}:[this.produce(r,n,function(i,l){o=i,a=l}),o,a]},t.createDraft=function(r){Ge(r)||Fe(8),Ye(r)&&(r=Qs(r));var n=go(this),o=Yr(this,r,void 0);return o[be].C=!0,Hr(n),o},t.finishDraft=function(r,n){var o=(r&&r[be]).A;return Er(o,n),kr(void 0,o)},t.setAutoFreeze=function(r){this.N=r},t.setUseProxies=function(r){r&&!bo&&Fe(20),this.O=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}var s=Be("Patches").$;return Ye(r)?s(r,n):this.produce(r,function(i){return s(i,n.slice(o+1))})},e}()),er=ye.produce;ye.produceWithPatches.bind(ye),ye.setAutoFreeze.bind(ye),ye.setUseProxies.bind(ye),ye.applyPatches.bind(ye);var xo=ye.createDraft.bind(ye),Po=ye.finishDraft.bind(ye);function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ao=new WeakMap,Cr=new WeakMap,Fo=new WeakMap,Eo=new WeakMap,ko=new WeakMap;function Ve(e,t){if(e==null)return{};var r,n,o=function(s,i){if(s==null)return{};var l,c,d={},f=Object.keys(s);for(c=0;c<f.length;c++)l=f[c],i.indexOf(l)>=0||(d[l]=s[l]);return d}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var oi=/\s/,ai=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,si=/['\u2018\u2019]/,Gr=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(ii(n)){var o=li(n,e,t);if(r==="SURR"||r==="BMP")break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(n!==8205)if(ui(n)){if(r&&r!=="ZWJ"&&r!=="VAR")break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!ci(n)){if(r==="MOD"){t+=1;break}break}if(r&&r!=="ZWJ")break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},xa=(e,t)=>{if(oi.test(e))return!1;if(si.test(e)){var r=t.charAt(0),n=Gr(r);r=t.slice(0,n);var o=t.slice(n);if(xa(r,o))return!0}return!ai.test(e)},ii=e=>55296<=e&&e<=57343,li=(e,t,r)=>{if(e===55356){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},ci=e=>e<=65039&&e>=65024,ui=e=>e===10084||e===9794||e===9792||e===9760||e===9877||e===9992||e===9711,X={isAncestor:e=>le(e)&&x.isNodeList(e.children),isElement:e=>le(e)&&x.isNodeList(e.children)&&!h.isEditor(e),isElementList:e=>Array.isArray(e)&&e.every(t=>X.isElement(t)),isElementProps:e=>e.children!==void 0,matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}};function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_o(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var h={above(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(o){var s=h.path(e,o),i=n==="lowest";for(var[l,c]of h.levels(e,{at:s,voids:r,match:a,reverse:i}))if(!N.isText(l)&&!m.equals(s,c))return[l,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={anchor:h.point(e,t,{edge:"end"}),focus:h.end(e,[])},{distance:a=1}=n,s=0;for(var i of h.positions(e,rt(rt({},n),{},{at:o}))){if(s>a)break;s!==0&&(r=i),s++}return r},before(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o={anchor:h.start(e,[]),focus:h.point(e,t,{edge:"start"})},{distance:a=1}=n,s=0;for(var i of h.positions(e,rt(rt({},n),{},{at:o,reverse:!0}))){if(s>a)break;s!==0&&(r=i),s++}return r},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[h.start(e,t),h.end(e,t)],end:(e,t)=>h.point(e,t,{edge:"end"}),first(e,t){var r=h.path(e,t,{edge:"start"});return h.node(e,r)},fragment(e,t){var r=h.range(e,t);return x.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(r=>h.isBlock(e,r)),hasInlines:(e,t)=>t.children.some(r=>N.isText(r)||h.isInline(e,r)),hasTexts:(e,t)=>t.children.every(r=>N.isText(r)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>X.isElement(t)&&!e.isInline(t),isEditor:e=>le(e)&&typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||le(e.marks))&&(e.selection===null||A.isRange(e.selection))&&x.isNodeList(e.children)&&gt.isOperationList(e.operations),isEnd(e,t,r){var n=h.end(e,r);return L.equals(t,n)},isEdge:(e,t,r)=>h.isStart(e,t,r)||h.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return r.length===0||r.length===1&&N.isText(n)&&n.text===""&&!e.isVoid(t)},isInline:(e,t)=>X.isElement(t)&&e.isInline(t),isNormalizing(e){var t=Cr.get(e);return t===void 0||t},isStart(e,t,r){if(t.offset!==0)return!1;var n=h.start(e,r);return L.equals(t,n)},isVoid:(e,t)=>X.isElement(t)&&e.isVoid(t),last(e,t){var r=h.path(e,t,{edge:"end"});return h.node(e,r)},leaf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r);return[x.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),r){var s=[],i=h.path(e,r);for(var[l,c]of x.levels(e,i))if(a(l,c)&&(s.push([l,c]),!o&&h.isVoid(e,l)))break;n&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(A.isExpanded(r)){var[n]=h.nodes(e,{match:N.isText});if(n){var[o]=n;return Ve(o,["text"])}return{}}var{anchor:a}=r,{path:s}=a,[i]=h.leaf(e,s);if(a.offset===0){var l=h.previous(e,{at:s,match:N.isText}),c=h.above(e,{match:g=>h.isBlock(e,g)});if(l&&c){var[d,f]=l,[,u]=c;m.isAncestor(u,f)&&(i=d)}}return Ve(i,["text"])},next(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=h.after(e,a,{voids:n});if(s){var[,i]=h.last(e,[]),l=[s.path,i];if(m.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(m.isPath(a)){var[c]=h.parent(e,a);o=f=>c.children.includes(f)}else o=()=>!0;var[d]=h.nodes(e,{at:l,match:o,mode:r,voids:n});return d}}},node(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r);return[x.get(e,n),n]},*nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:s=!1}=t,{match:i}=t;if(i||(i=()=>!0),r){var l,c;if(fi.isSpan(r))l=r[0],c=r[1];else{var d=h.path(e,r,{edge:"start"}),f=h.path(e,r,{edge:"end"});l=a?f:d,c=a?d:f}var u,g=x.nodes(e,{reverse:a,from:l,to:c,pass:D=>{var[j]=D;return!s&&h.isVoid(e,j)}}),y=[];for(var[b,O]of g){var w=u&&m.compare(O,u[1])===0;if(n!=="highest"||!w){if(i(b,O))if(n==="lowest"&&w)u=[b,O];else{var F=n==="lowest"?u:[b,O];F&&(o?y.push(F):yield F),u=[b,O]}else if(o&&!w&&N.isText(b))return}}n==="lowest"&&u&&(o?y.push(u):yield u),o&&(yield*y)}},normalize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1}=t,n=a=>Ao.get(a)||[];if(h.isNormalizing(e)){if(r){var o=Array.from(x.nodes(e),a=>{var[,s]=a;return s});Ao.set(e,o)}n(e).length!==0&&h.withoutNormalizing(e,()=>{for(var a=42*n(e).length,s=0;n(e).length!==0;){if(s>a)throw new Error(`
            Could not completely normalize the editor after `.concat(a,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var i=n(e).pop();if(x.has(e,i)){var l=h.node(e,i);e.normalizeNode(l)}s++}})}},parent(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=h.path(e,t,r),o=m.parent(n);return h.node(e,o)},path(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:n,edge:o}=r;if(m.isPath(t)){if(o==="start"){var[,a]=x.first(e,t);t=a}else if(o==="end"){var[,s]=x.last(e,t);t=s}}return A.isRange(t)&&(t=o==="start"?A.start(t):o==="end"?A.end(t):m.common(t.anchor.path,t.focus.path)),L.isPoint(t)&&(t=t.path),n!=null&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return h.pathRefs(e).delete(o),o.current=null,a}};return h.pathRefs(e).add(o),o},pathRefs(e){var t=Fo.get(e);return t||(t=new Set,Fo.set(e,t)),t},point(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:n="start"}=r;if(m.isPath(t)){var o;if(n==="end"){var[,a]=x.last(e,t);o=a}else{var[,s]=x.first(e,t);o=s}var i=x.get(e,o);if(!N.isText(i))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:n==="end"?i.text.length:0}}if(A.isRange(t)){var[l,c]=A.edges(t);return n==="start"?l:c}return t},pointRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return h.pointRefs(e).delete(o),o.current=null,a}};return h.pointRefs(e).add(o),o},pointRefs(e){var t=Eo.get(e);return t||(t=new Set,Eo.set(e,t)),t},*positions(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1,voids:a=!1}=t;if(r){var s=h.range(e,r),[i,l]=A.edges(s),c=o?l:i,d="",f=0,u=0,g=null,y=!1,b=()=>{g==null&&(g=n==="character"?Gr(d):n==="word"?(C=>{for(var M,R=0,E=0,I=!1;M=C.charAt(E);){var V=Gr(M);M=C.slice(E,E+V);var z=C.slice(E+V);if(xa(M,z))I=!0,R+=V;else{if(I)break;R+=V}E+=V}return R})(d):n==="line"||n==="block"?d.length:1,d=d.slice(g)),u=o?u-g:u+g,g=(f-=g)>=0?null:0-f};for(var[O,w]of h.nodes(e,{at:r,reverse:o,voids:a})){if(X.isElement(O)){if(!a&&e.isVoid(O)){yield h.start(e,w);continue}if(e.isInline(O))continue;if(h.hasInlines(e,O)){var F=m.isAncestor(w,l.path)?l:h.end(e,w),D=m.isAncestor(w,i.path)?i:h.start(e,w),j=h.string(e,{anchor:D,focus:F},{voids:a});d=o?Vo.reverse(j):j,y=!0}}if(N.isText(O)){var q=m.equals(w,c.path);for(f=O.text.length,u=o?f:0,q&&(f=o?c.offset:f-c.offset,u=c.offset),(q||y||n==="offset")&&(yield{path:w,offset:u});d!==""&&(b(),f>=0);)yield{path:w,offset:u};y=!1}}}},previous(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=h.before(e,a,{voids:n});if(s){var[,i]=h.first(e,[]),l=[s.path,i];if(m.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(m.isPath(a)){var[c]=h.parent(e,a);o=f=>c.children.includes(f)}else o=()=>!0;var[d]=h.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return d}}},range:(e,t,r)=>A.isRange(t)&&!r?t:{anchor:h.start(e,t),focus:h.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:a}=o;return h.rangeRefs(e).delete(o),o.current=null,a}};return h.rangeRefs(e).add(o),o},rangeRefs(e){var t=ko.get(e);return t||(t=new Set,ko.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>h.point(e,t,{edge:"start"}),string(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,o=h.range(e,t),[a,s]=A.edges(o),i="";for(var[l,c]of h.nodes(e,{at:o,match:N.isText,voids:n})){var d=l.text;m.equals(c,s.path)&&(d=d.slice(0,s.offset)),m.equals(c,a.path)&&(d=d.slice(a.offset)),i+=d}return i},unhangRange(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:n=!1}=r,[o,a]=A.edges(t);if(o.offset!==0||a.offset!==0||A.isCollapsed(t))return t;var s=h.above(e,{at:a,match:u=>h.isBlock(e,u)}),i=s?s[1]:[],l={anchor:h.start(e,[]),focus:a},c=!0;for(var[d,f]of h.nodes(e,{at:l,match:N.isText,reverse:!0,voids:n}))if(c)c=!1;else if(d.text!==""||m.isBefore(f,i)){a={path:f,offset:d.text.length};break}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h.above(e,rt(rt({},t),{},{match:r=>h.isVoid(e,r)}))},withoutNormalizing(e,t){var r=h.isNormalizing(e);Cr.set(e,!1),t(),Cr.set(e,r),h.normalize(e)}},fi={isSpan:e=>Array.isArray(e)&&e.length===2&&e.every(m.isPath)},x={ancestor(e,t){var r=x.get(e,t);if(N.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of m.ancestors(t,r)){var o=[x.ancestor(e,n),n];yield o}},child(e,t){if(N.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=r,o=x.ancestor(e,t),{children:a}=o,s=n?a.length-1:0;n?s>=0:s<a.length;){var i=x.child(o,s),l=t.concat(s);yield[i,l],s=n?s-1:s+1}},common(e,t,r){var n=m.common(t,r);return[x.get(e,n),n]},descendant(e,t){var r=x.get(e,t);if(h.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of x.nodes(e,t))n.length!==0&&(yield[r,n])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of x.nodes(e,t))X.isElement(r)&&(yield[r,n])},extractProps:e=>X.isAncestor(e)?Ve(e,["children"]):Ve(e,["text"]),first(e,t){for(var r=t.slice(),n=x.get(e,r);n&&!N.isText(n)&&n.children.length!==0;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(N.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var r=er({children:e.children},n=>{var[o,a]=A.edges(t),s=x.nodes(n,{reverse:!0,pass:u=>{var[,g]=u;return!A.includes(t,g)}});for(var[,i]of s){if(!A.includes(t,i)){var l=x.parent(n,i),c=i[i.length-1];l.children.splice(c,1)}if(m.equals(i,a.path)){var d=x.leaf(n,i);d.text=d.text.slice(0,a.offset)}if(m.equals(i,o.path)){var f=x.leaf(n,i);f.text=f.text.slice(o.offset)}}h.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(N.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(N.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>N.isText(e)||X.isElement(e)||h.isEditor(e),isNodeList:e=>Array.isArray(e)&&e.every(t=>x.isNode(t)),last(e,t){for(var r=t.slice(),n=x.get(e,r);n&&!N.isText(n)&&n.children.length!==0;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=x.get(e,t);if(!N.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of m.levels(t,r)){var o=x.get(e,n);yield[o,n]}},matches:(e,t)=>X.isElement(e)&&X.isElementProps(t)&&X.matches(e,t)||N.isText(e)&&N.isTextProps(t)&&N.matches(e,t),*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,s=new Set,i=[],l=e;!a||!(n?m.isBefore(i,a):m.isAfter(i,a));)if(s.has(l)||(yield[l,i]),s.has(l)||N.isText(l)||l.children.length===0||r!=null&&r([l,i])!==!1){if(i.length===0)break;if(!n){var c=m.next(i);if(x.has(e,c)){i=c,l=x.get(e,i);continue}}n&&i[i.length-1]!==0?(i=m.previous(i),l=x.get(e,i)):(i=m.parent(i),l=x.get(e,i),s.add(l))}else{s.add(l);var d=n?l.children.length-1:0;m.isAncestor(i,o)&&(d=o[i.length]),i=i.concat(d),l=x.get(e,i)}},parent(e,t){var r=m.parent(t),n=x.get(e,r);if(N.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>N.isText(e)?e.text:e.children.map(x.string).join(""),*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of x.nodes(e,t))N.isText(r)&&(yield[r,n])}};function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jo(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gt={isNodeOperation:e=>gt.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!le(e))return!1;switch(e.type){case"insert_node":case"remove_node":return m.isPath(e.path)&&x.isNode(e.node);case"insert_text":case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&m.isPath(e.path);case"merge_node":return typeof e.position=="number"&&m.isPath(e.path)&&le(e.properties);case"move_node":return m.isPath(e.path)&&m.isPath(e.newPath);case"set_node":return m.isPath(e.path)&&le(e.properties)&&le(e.newProperties);case"set_selection":return e.properties===null&&A.isRange(e.newProperties)||e.newProperties===null&&A.isRange(e.properties)||le(e.properties)&&le(e.newProperties);case"split_node":return m.isPath(e.path)&&typeof e.position=="number"&&le(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every(t=>gt.isOperation(t)),isSelectionOperation:e=>gt.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>gt.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return G(G({},e),{},{type:"remove_node"});case"insert_text":return G(G({},e),{},{type:"remove_text"});case"merge_node":return G(G({},e),{},{type:"split_node",path:m.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(m.equals(t,r))return e;if(m.isSibling(r,t))return G(G({},e),{},{path:t,newPath:r});var n=m.transform(r,e),o=m.transform(m.next(r),e);return G(G({},e),{},{path:n,newPath:o});case"remove_node":return G(G({},e),{},{type:"insert_node"});case"remove_text":return G(G({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:s}=e;return G(G({},e),{},{properties:s,newProperties:a});case"set_selection":var{properties:i,newProperties:l}=e;return G(G({},e),{},i==null?{properties:l,newProperties:null}:l==null?{properties:null,newProperties:i}:{properties:l,newProperties:i});case"split_node":return G(G({},e),{},{type:"merge_node",path:m.next(e.path)})}}},m={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=m.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return m.equals(n,o)&&a>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return m.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],s=t[r];return m.equals(n,o)&&a<s},equals:(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>m.compare(e,t)===1,isAncestor:(e,t)=>e.length<t.length&&m.compare(e,t)===0,isBefore:(e,t)=>m.compare(e,t)===-1,isChild:(e,t)=>e.length===t.length+1&&m.compare(e,t)===0,isCommon:(e,t)=>e.length<=t.length&&m.compare(e,t)===0,isDescendant:(e,t)=>e.length>t.length&&m.compare(e,t)===0,isParent:(e,t)=>e.length+1===t.length&&m.compare(e,t)===0,isPath:e=>Array.isArray(e)&&(e.length===0||typeof e[0]=="number"),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&m.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!m.isAncestor(t,e)&&!m.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return er(e,n=>{var{affinity:o="forward"}=r;if(e.length!==0)switch(t.type){case"insert_node":var{path:a}=t;(m.equals(a,n)||m.endsBefore(a,n)||m.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var{path:s}=t;if(m.equals(s,n)||m.isAncestor(s,n))return null;m.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var{path:i,position:l}=t;m.equals(i,n)||m.endsBefore(i,n)?n[i.length-1]-=1:m.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=l);break;case"split_node":var{path:c,position:d}=t;if(m.equals(c,n)){if(o==="forward")n[n.length-1]+=1;else if(o!=="backward")return null}else m.endsBefore(c,n)?n[c.length-1]+=1:m.isAncestor(c,n)&&e[c.length]>=d&&(n[c.length-1]+=1,n[c.length]-=d);break;case"move_node":var{path:f,newPath:u}=t;if(m.equals(f,u))return;if(m.isAncestor(f,n)||m.equals(f,n)){var g=u.slice();return m.endsBefore(f,u)&&f.length<u.length&&(g[f.length-1]-=1),g.concat(n.slice(f.length))}m.isSibling(f,u)&&(m.isAncestor(u,n)||m.equals(u,n))?m.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:m.endsBefore(u,n)||m.equals(u,n)||m.isAncestor(u,n)?(m.endsBefore(f,n)&&(n[f.length-1]-=1),n[u.length-1]+=1):m.endsBefore(f,n)&&(m.equals(u,n)&&(n[u.length-1]+=1),n[f.length-1]-=1)}})}};function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Co(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var L={compare(e,t){var r=m.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>L.compare(e,t)===1,isBefore:(e,t)=>L.compare(e,t)===-1,equals:(e,t)=>e.offset===t.offset&&m.equals(e.path,t.path),isPoint:e=>le(e)&&typeof e.offset=="number"&&m.isPath(e.path),transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return er(e,n=>{var{affinity:o="forward"}=r,{path:a,offset:s}=n;switch(t.type){case"insert_node":case"move_node":n.path=m.transform(a,t,r);break;case"insert_text":m.equals(t.path,a)&&t.offset<=s&&(n.offset+=t.text.length);break;case"merge_node":m.equals(t.path,a)&&(n.offset+=t.position),n.path=m.transform(a,t,r);break;case"remove_text":m.equals(t.path,a)&&t.offset<=s&&(n.offset-=Math.min(s-t.offset,t.text.length));break;case"remove_node":if(m.equals(t.path,a)||m.isAncestor(t.path,a))return null;n.path=m.transform(a,t,r);break;case"split_node":if(m.equals(t.path,a)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(n.offset-=t.position,n.path=m.transform(a,t,Do(Do({},r),{},{affinity:"forward"})))}else n.path=m.transform(a,t,r)}})}};function No(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}var A={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return A.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=A.edges(e);return t},equals:(e,t)=>L.equals(e.anchor,t.anchor)&&L.equals(e.focus,t.focus),includes(e,t){if(A.isRange(t)){if(A.includes(e,t.anchor)||A.includes(e,t.focus))return!0;var[r,n]=A.edges(e),[o,a]=A.edges(t);return L.isBefore(r,o)&&L.isAfter(n,a)}var[s,i]=A.edges(e),l=!1,c=!1;return L.isPoint(t)?(l=L.compare(t,s)>=0,c=L.compare(t,i)<=0):(l=m.compare(t,s.path)>=0,c=m.compare(t,i.path)<=0),l&&c},intersection(e,t){var r=Ve(e,["anchor","focus"]),[n,o]=A.edges(e),[a,s]=A.edges(t),i=L.isBefore(n,a)?a:n,l=L.isBefore(o,s)?o:s;return L.isBefore(l,i)?null:function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?No(Object(f),!0).forEach(function(u){Me(c,u,f[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):No(Object(f)).forEach(function(u){Object.defineProperty(c,u,Object.getOwnPropertyDescriptor(f,u))})}return c}({anchor:i,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return L.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return L.equals(t,r)},isExpanded:e=>!A.isCollapsed(e),isForward:e=>!A.isBackward(e),isRange:e=>le(e)&&L.isPoint(e.anchor)&&L.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=A.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="inward"}=o;return a==="inward"?A.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):a==="outward"?A.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=a,n=a),er(e,s=>{var i=L.transform(s.anchor,t,{affinity:r}),l=L.transform(s.focus,t,{affinity:n});if(!i||!l)return null;s.anchor=i,s.focus=l})}};function So(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?So(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var N={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||o!=="text")&&e[o]!==t[o])return!1;for(var a in t)if((!n||a!=="text")&&e[a]!==t[a])return!1;return!0},isText:e=>le(e)&&typeof e.text=="string",isTextList:e=>Array.isArray(e)&&e.every(t=>N.isText(t)),isTextProps:e=>e.text!==void 0,matches(e,t){for(var r in t)if(r!=="text"&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[Ce({},e)];for(var n of t){var o=Ve(n,["anchor","focus"]),[a,s]=A.edges(n),i=[],l=0;for(var c of r){var{length:d}=c.text,f=l;if(l+=d,a.offset<=f&&s.offset>=l)Object.assign(c,o),i.push(c);else if(a.offset!==s.offset&&(a.offset===l||s.offset===f)||a.offset>l||s.offset<f||s.offset===f&&f!==0)i.push(c);else{var u=c,g=void 0,y=void 0;if(s.offset<l){var b=s.offset-f;y=Ce(Ce({},u),{},{text:u.text.slice(b)}),u=Ce(Ce({},u),{},{text:u.text.slice(0,b)})}if(a.offset>f){var O=a.offset-f;g=Ce(Ce({},u),{},{text:u.text.slice(0,O)}),u=Ce(Ce({},u),{},{text:u.text.slice(O)})}Object.assign(u,o),g&&i.push(g),i.push(u),y&&i.push(y)}}r=i}return r}};function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ro(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var di={transform(e,t){e.children=xo(e.children);var r=e.selection&&xo(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,a=x.parent(e,n),s=n[n.length-1];if(a.children.splice(s,0,o),r)for(var[i,l]of A.points(r))r[l]=L.transform(i,t);break;case"insert_text":var{path:c,offset:d,text:f}=t,u=x.leaf(e,c),g=u.text.slice(0,d),y=u.text.slice(d);if(u.text=g+f+y,r)for(var[b,O]of A.points(r))r[O]=L.transform(b,t);break;case"merge_node":var{path:w}=t,F=x.get(e,w),D=m.previous(w),j=x.get(e,D),q=x.parent(e,w),C=w[w.length-1];if(N.isText(F)&&N.isText(j))j.text+=F.text;else{if(N.isText(F)||N.isText(j))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(w,"] to nodes of different interaces: ").concat(F," ").concat(j));j.children.push(...F.children)}if(q.children.splice(C,1),r)for(var[M,R]of A.points(r))r[R]=L.transform(M,t);break;case"move_node":var{path:E,newPath:I}=t;if(m.isAncestor(E,I))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(I,"] because the destination is inside itself."));var V=x.get(e,E),z=x.parent(e,E),Q=E[E.length-1];z.children.splice(Q,1);var J=m.transform(E,t),ne=x.get(e,m.parent(J)),ee=J[J.length-1];if(ne.children.splice(ee,0,V),r)for(var[oe,ue]of A.points(r))r[ue]=L.transform(oe,t);break;case"remove_node":var{path:te}=t,B=te[te.length-1];if(x.parent(e,te).children.splice(B,1),r)for(var[$,fe]of A.points(r)){var xe=L.transform($,t);if(r!=null&&xe!=null)r[fe]=xe;else{var de=void 0,he=void 0;for(var[re,Pe]of x.texts(e)){if(m.compare(Pe,te)!==-1){he=[re,Pe];break}de=[re,Pe]}de?($.path=de[1],$.offset=de[0].text.length):he?($.path=he[1],$.offset=0):r=null}}break;case"remove_text":var{path:tr,offset:lt,text:rr}=t,$e=x.leaf(e,tr),nr=$e.text.slice(0,lt),or=$e.text.slice(lt+rr.length);if($e.text=nr+or,r)for(var[ar,sr]of A.points(r))r[sr]=L.transform(ar,t);break;case"set_node":var{path:ct,newProperties:ut}=t;if(ct.length===0)throw new Error("Cannot set properties on the root node!");var ft=x.get(e,ct);for(var pe in ut){if(pe==="children"||pe==="text")throw new Error('Cannot set the "'.concat(pe,'" property of nodes!'));var dt=ut[pe];dt==null?delete ft[pe]:ft[pe]=dt}break;case"set_selection":var{newProperties:ge}=t;if(ge==null)r=ge;else if(r==null){if(!A.isRange(ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ge)," when there is no current selection."));r=ge}else Object.assign(r,ge);break;case"split_node":var{path:ve,position:_e,properties:ht}=t;if(ve.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ve,"] because the root node cannot be split."));var Je,ae=x.get(e,ve),ir=x.parent(e,ve),lr=ve[ve.length-1];if(N.isText(ae)){var cr=ae.text.slice(0,_e),ur=ae.text.slice(_e);ae.text=cr,Je=Dt(Dt({},ht),{},{text:ur})}else{var fr=ae.children.slice(0,_e),dr=ae.children.slice(_e);ae.children=fr,Je=Dt(Dt({},ht),{},{children:dr})}if(ir.children.splice(lr+1,0,Je),r)for(var[hr,pr]of A.points(r))r[pr]=L.transform(hr,t)}e.children=Po(e.children),e.selection=r?Ye(r)?Po(r):r:null}};function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bo(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hi={insertNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:s,match:i,select:l}=r;if(x.isNode(t)&&(t=[t]),t.length!==0){var[c]=t;if(s||(s=e.selection?e.selection:e.children.length>0?h.end(e,[]):[0],l=!0),l==null&&(l=!1),A.isRange(s))if(n||(s=h.unhangRange(e,s)),A.isCollapsed(s))s=s.anchor;else{var[,d]=A.edges(s),f=h.pointRef(e,d);T.delete(e,{at:s}),s=f.unref()}if(L.isPoint(s)){i==null&&(i=N.isText(c)?C=>N.isText(C):e.isInline(c)?C=>N.isText(C)||h.isInline(e,C):C=>h.isBlock(e,C));var[u]=h.nodes(e,{at:s.path,match:i,mode:a,voids:o});if(!u)return;var[,g]=u,y=h.pathRef(e,g),b=h.isEnd(e,s,g);T.splitNodes(e,{at:s,match:i,mode:a,voids:o});var O=y.unref();s=b?m.next(O):O}var w=m.parent(s),F=s[s.length-1];if(o||!h.void(e,{at:w})){for(var D of t){var j=w.concat(F);F++,e.apply({type:"insert_node",path:j,node:D})}if(l){var q=h.end(e,s);q&&T.select(e,q)}}}})},liftNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(a==null&&(a=m.isPath(r)?nt(e,r):D=>h.isBlock(e,D)),r){var s=h.nodes(e,{at:r,match:a,mode:n,voids:o}),i=Array.from(s,D=>{var[,j]=D;return h.pathRef(e,j)});for(var l of i){var c=l.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var d=h.node(e,m.parent(c)),[f,u]=d,g=c[c.length-1],{length:y}=f.children;if(y===1){var b=m.next(u);T.moveNodes(e,{at:c,to:b,voids:o}),T.removeNodes(e,{at:u,voids:o})}else if(g===0)T.moveNodes(e,{at:c,to:u,voids:o});else if(g===y-1){var O=m.next(u);T.moveNodes(e,{at:c,to:O,voids:o})}else{var w=m.next(c),F=m.next(u);T.splitNodes(e,{at:w,voids:o}),T.moveNodes(e,{at:c,to:F,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:s="lowest"}=t;if(n){if(r==null)if(m.isPath(n)){var[i]=h.parent(e,n);r=E=>i.children.includes(E)}else r=E=>h.isBlock(e,E);if(!o&&A.isRange(n)&&(n=h.unhangRange(e,n)),A.isRange(n))if(A.isCollapsed(n))n=n.anchor;else{var[,l]=A.edges(n),c=h.pointRef(e,l);T.delete(e,{at:n}),n=c.unref(),t.at==null&&T.select(e,n)}var[d]=h.nodes(e,{at:n,match:r,voids:a,mode:s}),f=h.previous(e,{at:n,match:r,voids:a,mode:s});if(d&&f){var[u,g]=d,[y,b]=f;if(g.length!==0&&b.length!==0){var O,w,F=m.next(b),D=m.common(g,b),j=m.isSibling(g,b),q=Array.from(h.levels(e,{at:g}),E=>{var[I]=E;return I}).slice(D.length).slice(0,-1),C=h.above(e,{at:g,mode:"highest",match:E=>q.includes(E)&&X.isElement(E)&&E.children.length===1}),M=C&&h.pathRef(e,C[1]);if(N.isText(u)&&N.isText(y)){var R=Ve(u,["text"]);w=y.text.length,O=R}else{if(!X.isElement(u)||!X.isElement(y))throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(u)," ").concat(JSON.stringify(y)));R=Ve(u,["children"]),w=y.children.length,O=R}j||T.moveNodes(e,{at:g,to:F,voids:a}),M&&T.removeNodes(e,{at:M.current,voids:a}),X.isElement(y)&&h.isEmpty(e,y)||N.isText(y)&&y.text===""?T.removeNodes(e,{at:b,voids:a}):e.apply({type:"merge_node",path:F,position:w,properties:O}),M&&M.unref()}}}})},moveNodes(e,t){h.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:s}=t;if(n){s==null&&(s=m.isPath(n)?nt(e,n):g=>h.isBlock(e,g));var i=h.pathRef(e,r),l=h.nodes(e,{at:n,match:s,mode:o,voids:a}),c=Array.from(l,g=>{var[,y]=g;return h.pathRef(e,y)});for(var d of c){var f=d.unref(),u=i.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:u}),i.current&&m.isSibling(u,f)&&m.isAfter(u,f)&&(i.current=m.next(i.current))}i.unref()}})},removeNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:s}=t;if(a){s==null&&(s=m.isPath(a)?nt(e,a):u=>h.isBlock(e,u)),!r&&A.isRange(a)&&(a=h.unhangRange(e,a));var i=h.nodes(e,{at:a,match:s,mode:o,voids:n}),l=Array.from(i,u=>{var[,g]=u;return h.pathRef(e,g)});for(var c of l){var d=c.unref();if(d){var[f]=h.node(e,d);e.apply({type:"remove_node",path:d,node:f})}}}})},setNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:s="lowest",split:i=!1,voids:l=!1}=r;if(o){if(n==null&&(n=m.isPath(o)?nt(e,o):F=>h.isBlock(e,F)),!a&&A.isRange(o)&&(o=h.unhangRange(e,o)),i&&A.isRange(o)){var c=h.rangeRef(e,o,{affinity:"inward"}),[d,f]=A.edges(o),u=s==="lowest"?"lowest":"highest";T.splitNodes(e,{at:f,match:n,mode:u,voids:l}),T.splitNodes(e,{at:d,match:n,mode:u,voids:l}),o=c.unref(),r.at==null&&T.select(e,o)}for(var[g,y]of h.nodes(e,{at:o,match:n,mode:s,voids:l})){var b={},O={};if(y.length!==0){for(var w in t)w!=="children"&&w!=="text"&&t[w]!==g[w]&&(b[w]=g[w],O[w]=t[w]);Object.keys(O).length!==0&&e.apply({type:"set_node",path:y,properties:b,newProperties:O})}}}})},splitNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:s=0,always:i=!1}=t;if(o==null&&(o=J=>h.isBlock(e,J)),A.isRange(a)&&(a=pi(e,a)),m.isPath(a)){var l=a,c=h.point(e,l),[d]=h.parent(e,l);o=J=>J===d,s=c.path.length-l.length+1,a=c,i=!0}if(a){var f=h.pointRef(e,a,{affinity:"backward"}),[u]=h.nodes(e,{at:a,match:o,mode:r,voids:n});if(u){var g=h.void(e,{at:a,mode:"highest"});if(!n&&g){var[y,b]=g;if(X.isElement(y)&&e.isInline(y)){var O=h.after(e,b);if(!O){var w=m.next(b);T.insertNodes(e,{text:""},{at:w,voids:n}),O=h.point(e,w)}a=O,i=!0}s=a.path.length-b.length+1,i=!0}var F=h.pointRef(e,a),D=a.path.length-s,[,j]=u,q=a.path.slice(0,D),C=s===0?a.offset:a.path[D]+0;for(var[M,R]of h.levels(e,{at:q,reverse:!0,voids:n})){var E=!1;if(R.length<j.length||R.length===0||!n&&h.isVoid(e,M))break;var I=f.current,V=h.isEnd(e,I,R);if(i||!f||!h.isEdge(e,I,R)){E=!0;var z=x.extractProps(M);e.apply({type:"split_node",path:R,position:C,properties:z})}C=R[R.length-1]+(E||V?1:0)}if(t.at==null){var Q=F.current||h.end(e,[]);T.select(e,Q)}f.unref(),F.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;T.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:s}=t;if(a){s==null&&(s=m.isPath(a)?nt(e,a):u=>h.isBlock(e,u)),m.isPath(a)&&(a=h.range(e,a));var i=A.isRange(a)?h.rangeRef(e,a):null,l=h.nodes(e,{at:a,match:s,mode:r,voids:o}),c=Array.from(l,u=>{var[,g]=u;return h.pathRef(e,g)}),d=function(u){var g=u.unref(),[y]=h.node(e,g),b=h.range(e,g);n&&i&&(b=A.intersection(i.current,b)),T.liftNodes(e,{at:b,match:O=>X.isAncestor(y)&&y.children.includes(O),voids:o})};for(var f of c)d(f);i&&i.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:s,at:i=e.selection}=r;if(i){if(s==null&&(s=m.isPath(i)?nt(e,i):e.isInline(t)?b=>h.isInline(e,b)||N.isText(b):b=>h.isBlock(e,b)),o&&A.isRange(i)){var[l,c]=A.edges(i),d=h.rangeRef(e,i,{affinity:"inward"});T.splitNodes(e,{at:c,match:s,voids:a}),T.splitNodes(e,{at:l,match:s,voids:a}),i=d.unref(),r.at==null&&T.select(e,i)}var f=Array.from(h.nodes(e,{at:i,match:e.isInline(t)?b=>h.isBlock(e,b):b=>h.isEditor(b),mode:"lowest",voids:a}));for(var[,u]of f){var g=A.isRange(i)?A.intersection(i,h.range(e,u)):i;if(g){var y=Array.from(h.nodes(e,{at:g,match:s,mode:n,voids:a}));y.length>0&&function(){var[b]=y,O=y[y.length-1],[,w]=b,[,F]=O,D=m.equals(w,F)?m.parent(w):m.common(w,F),j=h.range(e,w,F),q=h.node(e,D),[C]=q,M=D.length+1,R=m.next(F.slice(0,M)),E=To(To({},t),{},{children:[]});T.insertNodes(e,E,{at:R,voids:a}),T.moveNodes(e,{at:j,match:I=>X.isAncestor(C)&&C.children.includes(I),to:R.concat(0),voids:a})}()}}}})}},pi=(e,t)=>{if(A.isCollapsed(t))return t.anchor;var[,r]=A.edges(t),n=h.pointRef(e,r);return T.delete(e,{at:t}),n.unref()},nt=(e,t)=>{var[r]=h.node(e,t);return n=>n===r};function Mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gi={collapse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n){if(r==="anchor")T.select(e,n.anchor);else if(r==="focus")T.select(e,n.focus);else if(r==="start"){var[o]=A.edges(n);T.select(e,o)}else if(r==="end"){var[,a]=A.edges(n);T.select(e,a)}}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:s=null}=t;if(r){s==="start"&&(s=A.isBackward(r)?"focus":"anchor"),s==="end"&&(s=A.isBackward(r)?"anchor":"focus");var{anchor:i,focus:l}=r,c={distance:n,unit:o},d={};if(s==null||s==="anchor"){var f=a?h.before(e,i,c):h.after(e,i,c);f&&(d.anchor=f)}if(s==null||s==="focus"){var u=a?h.before(e,l,c):h.after(e,l,c);u&&(d.focus=u)}T.setSelection(e,d)}},select(e,t){var{selection:r}=e;if(t=h.range(e,t),r)T.setSelection(e,t);else{if(!A.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(n){o==="start"&&(o=A.isBackward(n)?"focus":"anchor"),o==="end"&&(o=A.isBackward(n)?"anchor":"focus");var{anchor:a,focus:s}=n,i=o==="anchor"?a:s;T.setSelection(e,{[o==="anchor"?"anchor":"focus"]:qo(qo({},i),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var a in t)(a==="anchor"&&t.anchor!=null&&!L.equals(t.anchor,r.anchor)||a==="focus"&&t.focus!=null&&!L.equals(t.focus,r.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},vi={delete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:i=!1}=t;if(s){if(A.isRange(s)&&A.isCollapsed(s)&&(s=s.anchor),L.isPoint(s)){var l=h.void(e,{at:s,mode:"highest"});if(!a&&l){var[,c]=l;s=c}else{var d={unit:n,distance:o};s={anchor:s,focus:r?h.before(e,s,d)||h.start(e,[]):h.after(e,s,d)||h.end(e,[])},i=!0}}if(m.isPath(s))T.removeNodes(e,{at:s,voids:a});else if(!A.isCollapsed(s)){i||(s=h.unhangRange(e,s,{voids:a}));var[f,u]=A.edges(s),g=h.above(e,{match:re=>h.isBlock(e,re),at:f,voids:a}),y=h.above(e,{match:re=>h.isBlock(e,re),at:u,voids:a}),b=g&&y&&!m.equals(g[1],y[1]),O=m.equals(f.path,u.path),w=a?null:h.void(e,{at:f,mode:"highest"}),F=a?null:h.void(e,{at:u,mode:"highest"});if(w){var D=h.before(e,f);D&&g&&m.isAncestor(g[1],D.path)&&(f=D)}if(F){var j=h.after(e,u);j&&y&&m.isAncestor(y[1],j.path)&&(u=j)}var q,C=[];for(var M of h.nodes(e,{at:s,voids:a})){var[R,E]=M;q&&m.compare(E,q)===0||(!a&&h.isVoid(e,R)||!m.isCommon(E,f.path)&&!m.isCommon(E,u.path))&&(C.push(M),q=E)}var I=Array.from(C,re=>{var[,Pe]=re;return h.pathRef(e,Pe)}),V=h.pointRef(e,f),z=h.pointRef(e,u);if(!O&&!w){var Q=V.current,[J]=h.leaf(e,Q),{path:ne}=Q,{offset:ee}=f,oe=J.text.slice(ee);e.apply({type:"remove_text",path:ne,offset:ee,text:oe})}for(var ue of I){var te=ue.unref();T.removeNodes(e,{at:te,voids:a})}if(!F){var B=z.current,[$]=h.leaf(e,B),{path:fe}=B,xe=O?f.offset:0,de=$.text.slice(xe,u.offset);e.apply({type:"remove_text",path:fe,offset:xe,text:de})}!O&&b&&z.current&&V.current&&T.mergeNodes(e,{at:z.current,hanging:!0,voids:a});var he=z.unref()||V.unref();t.at==null&&he&&T.select(e,he)}}})},insertFragment(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(t.length&&a){if(A.isRange(a))if(n||(a=h.unhangRange(e,a)),A.isCollapsed(a))a=a.anchor;else{var[,s]=A.edges(a);if(!o&&h.void(e,{at:s}))return;var i=h.pointRef(e,s);T.delete(e,{at:a}),a=i.unref()}else m.isPath(a)&&(a=h.start(e,a));if(o||!h.void(e,{at:a})){var l=h.above(e,{at:a,match:B=>h.isInline(e,B),mode:"highest",voids:o});if(l){var[,c]=l;h.isEnd(e,a,c)?a=h.after(e,c):h.isStart(e,a,c)&&(a=h.before(e,c))}var d=h.above(e,{match:B=>h.isBlock(e,B),at:a,voids:o}),[,f]=d,u=h.isStart(e,a,f),g=h.isEnd(e,a,f),y=!u||u&&g,b=!g,[,O]=x.first({children:t},[]),[,w]=x.last({children:t},[]),F=[],D=B=>{var[$,fe]=B;return!(y&&m.isAncestor(fe,O)&&X.isElement($)&&!e.isVoid($)&&!e.isInline($))&&!(b&&m.isAncestor(fe,w)&&X.isElement($)&&!e.isVoid($)&&!e.isInline($))};for(var j of x.nodes({children:t},{pass:D}))j[1].length>0&&D(j)&&F.push(j);var q=[],C=[],M=[],R=!0,E=!1;for(var[I]of F)X.isElement(I)&&!e.isInline(I)?(R=!1,E=!0,C.push(I)):R?q.push(I):M.push(I);var[V]=h.nodes(e,{at:a,match:B=>N.isText(B)||h.isInline(e,B),mode:"highest",voids:o}),[,z]=V,Q=h.isStart(e,a,z),J=h.isEnd(e,a,z),ne=h.pathRef(e,g?m.next(f):f),ee=h.pathRef(e,J?m.next(z):z);T.splitNodes(e,{at:a,match:B=>E?h.isBlock(e,B):N.isText(B)||h.isInline(e,B),mode:E?"lowest":"highest",voids:o});var oe=h.pathRef(e,!Q||Q&&J?m.next(z):z);if(T.insertNodes(e,q,{at:oe.current,match:B=>N.isText(B)||h.isInline(e,B),mode:"highest",voids:o}),T.insertNodes(e,C,{at:ne.current,match:B=>h.isBlock(e,B),mode:"lowest",voids:o}),T.insertNodes(e,M,{at:ee.current,match:B=>N.isText(B)||h.isInline(e,B),mode:"highest",voids:o}),!r.at){var ue;ue=M.length>0?m.previous(ee.current):C.length>0?m.previous(ne.current):m.previous(oe.current);var te=h.end(e,ue);T.select(e,te)}oe.unref(),ne.unref(),ee.unref()}}})},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(m.isPath(o)&&(o=h.range(e,o)),A.isRange(o))if(A.isCollapsed(o))o=o.anchor;else{var a=A.end(o);if(!n&&h.void(e,{at:a}))return;var s=h.pointRef(e,a);T.delete(e,{at:o,voids:n}),o=s.unref(),T.setSelection(e,{anchor:o,focus:o})}if(n||!h.void(e,{at:o})){var{path:i,offset:l}=o;e.apply({type:"insert_text",path:i,offset:l,text:t})}}})}};function Io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Io(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Io(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var T=Nt(Nt(Nt(Nt({},di),hi),gi),vi);const H={findKey(e,t){let r=Ut.get(t);return r||(r=new Vs,Ut.set(t,r)),r},findPath(e,t){const r=[];let n=t;for(;;){const o=Js.get(n);if(o==null){if(h.isEditor(n))return r;break}const a=$s.get(n);if(a==null)break;r.unshift(a),n=o}throw new Error(`Unable to find the path for Slate node: ${JSON.stringify(t)}`)},isFocused:e=>!!Fr.get(e),isReadOnly:e=>!!Hs.get(e),blur(e){const t=H.toDOMNode(e,e);Fr.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){const t=H.toDOMNode(e,e);Fr.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){const{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&T.deselect(e)},hasDOMNode(e,t,r={}){const{editable:n=!1}=r,o=H.toDOMNode(e,e);let a;try{a=De(t)?t:t.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return!!a&&a.closest("[data-slate-editor]")===o&&(!n||a.isContentEditable||!!a.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){const r=h.isEditor(t)?Ks.get(e):Zs.get(H.findKey(e,t));if(!r)throw new Error(`Cannot resolve a DOM node from Slate node: ${JSON.stringify(t)}`);return r},toDOMPoint(e,t){const[r]=h.node(e,t.path),n=H.toDOMNode(e,r);let o;h.void(e,{at:t})&&(t={path:t.path,offset:0});const a=Array.from(n.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));let s=0;for(const i of a){const l=i.childNodes[0];if(l==null||l.textContent==null)continue;const{length:c}=l.textContent,d=i.getAttribute("data-slate-length"),f=s+(d==null?c:parseInt(d,10));if(t.offset<=f){o=[l,Math.min(c,Math.max(0,t.offset-s))];break}s=f}if(!o)throw new Error(`Cannot resolve a DOM point from Slate point: ${JSON.stringify(t)}`);return o},toDOMRange(e,t){const{anchor:r,focus:n}=t,o=A.isBackward(t),a=H.toDOMPoint(e,r),s=A.isCollapsed(t)?a:H.toDOMPoint(e,n),i=window.document.createRange(),[l,c]=o?s:a,[d,f]=o?a:s,u=!!(De(l)?l:l.parentElement).getAttribute("data-slate-zero-width"),g=!!(De(d)?d:d.parentElement).getAttribute("data-slate-zero-width");return i.setStart(l,u?1:c),i.setEnd(d,g?1:f),i},toSlateNode(e,t){let r=De(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));const n=r?Us.get(r):null;if(!n)throw new Error(`Cannot resolve a Slate node from DOM node: ${r}`);return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);const{clientX:r,clientY:n,target:o}=t;if(r==null||n==null)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);const a=H.toSlateNode(e,t.target),s=H.findPath(e,a);if(h.isVoid(e,a)){const c=o.getBoundingClientRect(),d=e.isInline(a)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,f=h.point(e,s,{edge:d?"start":"end"}),u=d?h.before(e,f):h.after(e,f);if(u)return h.range(e,u)}let i;const{document:l}=window;if(l.caretRangeFromPoint)i=l.caretRangeFromPoint(r,n);else{const c=l.caretPositionFromPoint(r,n);c&&(i=l.createRange(),i.setStart(c.offsetNode,c.offset),i.setEnd(c.offsetNode,c.offset))}if(!i)throw new Error(`Cannot resolve a Slate range from a DOM event: ${t}`);return H.toSlateRange(e,i)},toSlatePoint(e,t){const[r,n]=(l=>{let[c,d]=l;if(De(c)&&c.childNodes.length){const f=d===c.childNodes.length,u=f?"backward":"forward";for(c=fo(c,f?d-1:d,u);De(c)&&c.childNodes.length;){const g=f?c.childNodes.length-1:0;c=fo(c,g,u)}d=f&&c.textContent!=null?c.textContent.length:0}return[c,d]})(t),o=r.parentNode;let a=null,s=0;if(o){const l=o.closest('[data-slate-void="true"]');let c=o.closest("[data-slate-leaf]"),d=null;if(c){a=c.closest('[data-slate-node="text"]');const f=window.document.createRange();f.setStart(a,0),f.setEnd(r,n);const u=f.cloneContents();[...u.querySelectorAll("[data-slate-zero-width]"),...u.querySelectorAll("[contenteditable=false]")].forEach(g=>{g.parentNode.removeChild(g)}),s=u.textContent.length,d=a}else l&&(c=l.querySelector("[data-slate-leaf]"),a=c.closest('[data-slate-node="text"]'),d=c,s=d.textContent.length);d&&s===d.textContent.length&&o.hasAttribute("data-slate-zero-width")&&s--}if(!a)throw new Error(`Cannot resolve a Slate point from DOM point: ${t}`);const i=H.toSlateNode(e,a);return{path:H.findPath(e,i),offset:s}},toSlateRange(e,t){let r,n,o,a,s;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.isCollapsed):(r=t.startContainer,n=t.startOffset,o=t.endContainer,a=t.endOffset,s=t.collapsed)),r==null||o==null||n==null||a==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${t}`);const i=H.toSlatePoint(e,[r,n]);return{anchor:i,focus:s?i:H.toSlatePoint(e,[o,a])}}},se=e=>h.isEditor(e)?e._state:e.children,Pa=e=>JSON.parse(JSON.stringify(e)),ot={child(e,t){if(N.isText(e))throw new Error(`Cannot get the child of a text node: ${JSON.stringify(e)}`);const r=se(e)[t];if(r==null)throw new Error(`Cannot get child at index \`${t}\` in node: ${JSON.stringify(e)}`);return r},has(e,t){let r=e;for(let n=0;n<t.length;n++){const o=t[n],a=se(r);if(N.isText(r)||!a[o])return!1;r=a[o]}return!0},get(e,t){let r=e;for(let n=0;n<t.length;n++){const o=t[n],a=se(r);if(N.isText(r)||!a[o])throw new Error(`Cannot find a descendant at path [${t}] in node: ${JSON.stringify(e)}`);r=a[o]}return r},first(e,t){const r=t.slice();let n=x.get(e,r);const o=se(n);for(;n&&!N.isText(n)&&o.length!==0;)n=o[0],r.push(0);return[n,r]},last(e,t){const r=t.slice();let n=x.get(e,r);const o=se(n);for(;n&&!N.isText(n)&&o.length!==0;){const a=o.length-1;n=o[a],r.push(a)}return[n,r]},*nodes(e,t={}){const{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,s=new Set;let i=[],l=e;for(;!a||!(n?m.isBefore(i,a):m.isAfter(i,a));)if(s.has(l)||(yield[l,i]),s.has(l)||N.isText(l)||se(l).length===0||r!=null&&r([l,i])!==!1){if(i.length===0)break;if(!n){const c=m.next(i);if(x.has(e,c)){i=c,l=x.get(e,i);continue}}n&&i[i.length-1]!==0?(i=m.previous(i),l=x.get(e,i)):(i=m.parent(i),l=x.get(e,i),s.add(l))}else{s.add(l);let c=n?se(l).length-1:0;m.isAncestor(i,o)&&(c=o[i.length]),i=i.concat(c),l=x.get(e,i)}}};(()=>{const{select:e}=T;T.select=(t,r)=>(r.__ob__&&(r=Pa(r)),e(t,r))})();const Aa=()=>{const{get:e,nodes:t,has:r,first:n,child:o,last:a}=x;return x.child=ot.child,x.has=ot.has,x.get=ot.get,x.first=ot.first,x.last=ot.last,x.nodes=ot.nodes,()=>{x.get=e,x.nodes=t,x.has=r,x.first=n,x.child=o,x.last=a}};var zo;H.toDOMRange=(zo=H.toDOMRange,(...e)=>{const t=Aa(),r=zo(...e);return t(),r});const mi=e=>{const t=e,{apply:r,onChange:n}=t;return t.apply=o=>{const a=[];switch(t._operation=o,o.type){case"insert_text":case"remove_text":case"set_node":for(const[s,i]of h.levels(t,{at:o.path})){const l=H.findKey(t,s);a.push([i,l])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(const[s,i]of h.levels(t,{at:m.parent(o.path)})){const l=H.findKey(t,s);a.push([i,l])}}r(o);for(const[s,i]of a){const[l]=h.node(t,s);Ut.set(l,i)}((s,...i)=>{const l=Aa(),c=s(...i);l()})(()=>{(function(s,i,l){switch(i.type){case"insert_node":{const{path:c,node:d}=i,f=x.parent(s,c),u=c[c.length-1];se(f).splice(u,0,Pa(d));break}case"insert_text":{const{path:c,offset:d,text:f}=i,u=x.leaf(s,c),g=u.text.slice(0,d),y=u.text.slice(d);u.text=g+f+y;break}case"merge_node":{const{path:c}=i,d=x.get(s,c),f=m.previous(c),u=x.get(s,f),g=x.parent(s,c),y=c[c.length-1];if(N.isText(d)&&N.isText(u))u.text+=d.text;else{if(N.isText(d)||N.isText(u))throw new Error(`Cannot apply a "merge_node" operation at path [${c}] to nodes of different interaces: ${d} ${u}`);se(u).push(...se(d))}se(g).splice(y,1);break}case"move_node":{const{path:c,newPath:d}=i;if(m.isAncestor(c,d))throw new Error(`Cannot move a path [${c}] to new path [${d}] because the destination is inside itself.`);const f=x.get(s,c),u=x.parent(s,c),g=c[c.length-1];se(u).splice(g,1);const y=m.transform(c,i),b=x.get(s,m.parent(y)),O=y[y.length-1];se(b).splice(O,0,f);break}case"remove_node":{const{path:c}=i;Ut.delete(x.get(s,c));const d=c[c.length-1],f=x.parent(s,c);se(f).splice(d,1);break}case"remove_text":{const{path:c,offset:d,text:f}=i,u=x.leaf(s,c),g=u.text.slice(0,d),y=u.text.slice(d+f.length);u.text=g+y;break}case"set_node":{const{path:c,newProperties:d}=i;if(c.length===0)throw new Error("Cannot set properties on the root node!");x.get(s,c);for(const f in d){if(f==="children"||f==="text")throw new Error(`Cannot set the "${f}" property of nodes!`);d[f]}break}case"set_selection":break;case"split_node":{const{path:c,position:d,properties:f}=i;if(c.length===0)throw new Error(`Cannot apply a "split_node" operation at path [${c}] because the root node cannot be split.`);const u=x.get(s,c),g=x.parent(s,c),y=c[c.length-1];let b;if(N.isText(u)){const O=u.text.slice(0,d),w=u.text.slice(d);u.text=O,b={...u,...f,text:w}}else{const O=u.children.slice(0,d),w=u.children.slice(d);u.children=O,b={...u,...f,children:w}}se(g).splice(y+1,0,b);break}}})(e,o)})},t.setFragmentData=o=>{const{selection:a}=t;if(!a)return;const[s,i]=A.edges(a),l=h.void(t,{at:s.path}),c=h.void(t,{at:i.path});if(A.isCollapsed(a)&&!l)return;const d=H.toDOMRange(t,a);let f=d.cloneContents(),u=f.childNodes[0];if(f.childNodes.forEach(w=>{w.textContent&&w.textContent.trim()!==""&&(u=w)}),c){const[w]=c,F=d.cloneRange(),D=H.toDOMNode(t,w);F.setEndAfter(D),f=F.cloneContents()}if(l&&(u=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(w=>{const F=w.getAttribute("data-slate-zero-width")==="n";w.textContent=F?`
`:""}),ya(u)){const w=document.createElement("span");w.style.whiteSpace="pre",w.appendChild(u),f.appendChild(w),u=w}const g=t.getFragment(),y=JSON.stringify(g),b=window.btoa(encodeURIComponent(y));u.setAttribute("data-slate-fragment",b),o.setData("application/x-slate-fragment",b);const O=document.createElement("div");O.appendChild(f),O.setAttribute("hidden","true"),document.body.appendChild(O),o.setData("text/html",O.innerHTML),o.setData("text/plain",wa(O)),document.body.removeChild(O)},t.insertData=o=>{const a=o.getData("application/x-slate-fragment");if(a){const i=decodeURIComponent(window.atob(a)),l=JSON.parse(i);return void t.insertFragment(l)}const s=o.getData("text/plain");if(s){const i=s.split(/\r\n|\r|\n/);let l=!1;for(const c of i)l&&T.splitNodes(t,{always:!0}),T.insertText(t,c),l=!0}},t.onChange=()=>{const o=Xs.get(t);o&&o(),n()},t},yi=()=>mi((()=>{var t={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:r=>{for(var n of p.pathRefs(t))Va.transform(n,r);for(var o of p.pointRefs(t))$a.transform(o,r);for(var a of p.rangeRefs(t))Ja.transform(a,r);var s=new Set,i=[],l=g=>{if(g){var y=g.join(",");s.has(y)||(s.add(y),i.push(g))}},c=Vt.get(t)||[],d=Ra(r);for(var f of c)l(v.transform(f,r));for(var u of d)l(u);Vt.set(t,i),k.transform(t,r),t.operations.push(r),p.normalize(t),r.type==="set_selection"&&(t.marks=null),br.get(t)||(br.set(t,!0),Promise.resolve().then(()=>{br.set(t,!1),t.onChange(),t.operations=[]}))},addMark:(r,n)=>{var{selection:o}=t;if(o)if(P.isExpanded(o))k.setNodes(t,{[r]:n},{match:S.isText,split:!0});else{var a=xt(xt({},p.marks(t)||{}),{},{[r]:n});t.marks=a,t.onChange()}},deleteBackward:r=>{var{selection:n}=t;n&&P.isCollapsed(n)&&k.delete(t,{unit:r,reverse:!0})},deleteForward:r=>{var{selection:n}=t;n&&P.isCollapsed(n)&&k.delete(t,{unit:r})},deleteFragment:()=>{var{selection:r}=t;r&&P.isExpanded(r)&&k.delete(t)},getFragment:()=>{var{selection:r}=t;return r?_.fragment(t,r):[]},insertBreak:()=>{k.splitNodes(t,{always:!0})},insertFragment:r=>{k.insertFragment(t,r)},insertNode:r=>{k.insertNodes(t,r)},insertText:r=>{var{selection:n,marks:o}=t;if(n){if(P.isCollapsed(n)){var a=p.above(t,{match:c=>p.isInline(t,c),mode:"highest"});if(a){var[,s]=a;if(p.isEnd(t,n.anchor,s)){var i=p.after(t,s);k.setSelection(t,{anchor:i,focus:i})}}}if(o){var l=xt({text:r},o);k.insertNodes(t,l)}else k.insertText(t,r);t.marks=null}},normalizeNode:r=>{var[n,o]=r;if(!S.isText(n))if(K.isElement(n)&&n.children.length===0)k.insertNodes(t,{text:""},{at:o.concat(0),voids:!0});else for(var a=!p.isEditor(n)&&K.isElement(n)&&(t.isInline(n)||n.children.length===0||S.isText(n.children[0])||t.isInline(n.children[0])),s=0,i=0;i<n.children.length;i++,s++){var l=n.children[i],c=n.children[i-1],d=i===n.children.length-1;(S.isText(l)||K.isElement(l)&&t.isInline(l))!==a?(k.removeNodes(t,{at:o.concat(s),voids:!0}),s--):K.isElement(l)?t.isInline(l)&&(c!=null&&S.isText(c)?d&&(k.insertNodes(t,{text:""},{at:o.concat(s+1),voids:!0}),s++):(k.insertNodes(t,{text:""},{at:o.concat(s),voids:!0}),s++)):c!=null&&S.isText(c)&&(S.equals(l,c,{loose:!0})?(k.mergeNodes(t,{at:o.concat(s),voids:!0}),s--):c.text===""?(k.removeNodes(t,{at:o.concat(s-1),voids:!0}),s--):d&&l.text===""&&(k.removeNodes(t,{at:o.concat(s),voids:!0}),s--))}},removeMark:r=>{var{selection:n}=t;if(n)if(P.isExpanded(n))k.unsetNodes(t,r,{match:S.isText,split:!0});else{var o=xt({},p.marks(t)||{});delete o[r],t.marks=o,t.onChange()}}};return t})()),Dr=la({props:{text:String,isTrailing:Boolean},render(){const{text:e,isTrailing:t=!1}=this;return Ne("span",{"data-slate-string":!0},[e,t?`
`:null])}}),Nr=e=>{const{length:t=0,isLineBreak:r=!1}=e;return Ne("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},["\uFEFF",r?Ne("br",null,null):null])},Fi=la({props:{leaf:{type:Object,required:!0}},components:{TextString:Dr},setup:()=>({isLast:xr("isLast"),parent:xr("parent"),text:xr("text")}),render(){const e=Ms(),{leaf:t,isLast:r,parent:n,text:o}=this,a=H.findPath(e,o),s=v.parent(a);return e.isVoid(n)?Ne(Nr,{length:_.string(n).length},null):t.text!==""||n.children[n.children.length-1]!==o||e.isInline(n)||p.string(e,s)!==""?t.text===""?Ne(Nr,null,null):r&&t.text.slice(-1)===`
`?Ne(Dr,{isTrailing:!0,text:t.text},null):Ne(Dr,{text:t.text},null):Ne(Nr,{isLineBreak:!0},null)}});var Wo="֑-߿יִ-﷽ﹰ-ﻼ",Lo="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿";new RegExp("^[^"+Lo+"]*["+Wo+"]"),new RegExp("^[^"+Wo+"]*["+Lo+"]");
